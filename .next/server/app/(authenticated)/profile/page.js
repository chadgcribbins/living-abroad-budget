(()=>{var e={};e.id=725,e.ids=[725],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},61497:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(5075),r(82964),r(24589),r(24671),r(21869),r(7629),r(11930),r(12523);var a=r(23191),i=r(88716),l=r(37922),s=r.n(l),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["(authenticated)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5075)),"/workspace/src/app/(authenticated)/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,82964)),"/workspace/src/app/(authenticated)/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24589)),"/workspace/src/app/(authenticated)/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,24671)),"/workspace/src/app/(authenticated)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,21869)),"/workspace/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/workspace/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"/workspace/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/workspace/src/app/not-found.tsx"]}],c=["/workspace/src/app/(authenticated)/profile/page.tsx"],u="/(authenticated)/profile/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(authenticated)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49376:(e,t,r)=>{Promise.resolve().then(r.bind(r,46674))},82889:(e,t,r)=>{Promise.resolve().then(r.bind(r,82050))},71717:(e,t,r)=>{Promise.resolve().then(r.bind(r,50419))},46674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(10326);r(17577);var i=r(35047);function l({error:e,reset:t}){let r=(0,i.useRouter)();return a.jsx("div",{className:"container mx-auto py-12",children:a.jsx("div",{className:"card bg-error text-error-content shadow-xl max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title text-2xl",children:"Something went wrong!"}),a.jsx("p",{className:"mt-2",children:"We encountered an error while trying to display this page."}),!1,(0,a.jsxs)("div",{className:"card-actions justify-end mt-6",children:[a.jsx("button",{onClick:()=>r.push("/"),className:"btn btn-outline",children:"Go Home"}),a.jsx("button",{onClick:()=>t(),className:"btn btn-primary",children:"Try Again"})]})]})})})}},82050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(10326);r(17577);var i=r(78290),l=r(20050);function s({children:e}){return a.jsx(l.default,{requireCompleteProfile:!0,children:a.jsx(i.default,{children:e})})}},50419:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(10326),i=r(17577),l=r(92631),s=r(88211);let n=[{code:"GB",name:"United Kingdom",currencyCode:s.NE.GBP,flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"PT",name:"Portugal",currencyCode:s.NE.EUR,flag:"\uD83C\uDDF5\uD83C\uDDF9"},{code:"US",name:"United States",currencyCode:s.NE.USD,flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"ES",name:"Spain",currencyCode:s.NE.EUR,flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"FR",name:"France",currencyCode:s.NE.EUR,flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"IT",name:"Italy",currencyCode:s.NE.EUR,flag:"\uD83C\uDDEE\uD83C\uDDF9"},{code:"DE",name:"Germany",currencyCode:s.NE.EUR,flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"CA",name:"Canada",currencyCode:s.NE.CAD,flag:"\uD83C\uDDE8\uD83C\uDDE6"},{code:"AU",name:"Australia",currencyCode:s.NE.AUD,flag:"\uD83C\uDDE6\uD83C\uDDFA"}];var o=r(99837),d=r(2102),c=r(89175),u=r(8285),m=r(41985),h=r(22665);console.log("PROFILE_FORM_V_LATEST_DEBUG_005 loading");let p=()=>{let{household:e,updateHousehold:t,updateHouseholdMembers:r}=(0,l.Un)(),[s,p]=(0,i.useState)(""),[x,f]=(0,i.useState)(""),[g,y]=(0,i.useState)(e?.originCountry||""),[D,b]=(0,i.useState)([]),[j,N]=(0,i.useState)(!1),[v,C]=(0,i.useState)(null),[P,E]=(0,i.useState)({fullName:"",dateOfBirth:"",relationship:m.S9.CHILD}),w=Object.values(m.S9).filter(e=>e!==m.S9.PRIMARY).map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})),_=n.map(e=>({value:e.code,label:e.name}));(0,i.useEffect)(()=>{if(console.log("PROFILE_FORM_V_LATEST_DEBUG_005 useEffect household:",e),e){let t=e.members.find(e=>e.relationship===m.S9.PRIMARY);t&&(p(`${t.firstName} ${t.lastName}`.trim()),f(t.dateOfBirth?new Date(t.dateOfBirth).toISOString().split("T")[0]:"")),y(e.originCountry||""),b(e.members.filter(e=>e.relationship!==m.S9.PRIMARY))}else p(""),f(""),y(""),b([])},[e]);let S=e=>{let{name:t,value:r}=e.target;"primaryFullName"===t?p(r):"primaryDateOfBirth"===t&&f(r)},F=e=>{let{name:t,value:r}=e.target;E(e=>({...e,[t]:r}))},O=e=>{C(e.id),E({fullName:`${e.firstName} ${e.lastName}`.trim(),dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth).toISOString().split("T")[0]:"",relationship:e.relationship}),N(!0)},B=e=>{b(D.filter(t=>t.id!==e))};return(0,a.jsxs)("div",{className:"space-y-6 p-4 bg-white shadow-md rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"Your Profile"}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"Primary Individual"}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"primaryFullName",children:"Full Name"}),a.jsx(c.default,{id:"primaryFullName",name:"primaryFullName",value:s,onChange:S,placeholder:"E.g., Jane Doe"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"primaryDateOfBirth",children:"Date of Birth"}),a.jsx(c.default,{id:"primaryDateOfBirth",name:"primaryDateOfBirth",type:"date",value:x,onChange:S})]})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"Family Members"}),D.length>0&&a.jsx("ul",{className:"space-y-2",children:D.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("span",{children:[e.firstName," ",e.lastName," (",e.relationship,")"]}),(0,a.jsxs)("div",{className:"space-x-2",children:[a.jsx(o.default,{variant:"outline",size:"sm",onClick:()=>O(e),children:"Edit"}),a.jsx(o.default,{variant:"outline",size:"sm",onClick:()=>B(e.id),children:"Delete"})]})]},e.id))}),!j&&a.jsx(o.default,{onClick:()=>{C(null),E({fullName:"",dateOfBirth:"",relationship:m.S9.CHILD}),N(!0)},variant:"secondary",className:"w-full sm:w-auto",children:"Add Family Member"}),j&&(0,a.jsxs)("div",{className:"p-4 border border-blue-200 rounded-md space-y-4 bg-blue-50",children:[(0,a.jsxs)("h4",{className:"text-lg font-medium text-blue-700",children:[v?"Edit":"Add New"," Family Member"]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"memberFullName",children:"Full Name"}),a.jsx(c.default,{id:"memberFullName",name:"fullName",value:P.fullName,onChange:F,placeholder:"E.g., John Doe"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"memberDateOfBirth",children:"Date of Birth"}),a.jsx(c.default,{id:"memberDateOfBirth",name:"dateOfBirth",type:"date",value:P.dateOfBirth,onChange:F})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"memberRelationship",children:"Relationship to Primary"}),a.jsx(d.default,{id:"memberRelationship",name:"relationship",value:P.relationship,onChange:e=>E(t=>({...t,relationship:e.target.value})),options:w})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(o.default,{onClick:()=>{if(!P.fullName||!P.dateOfBirth){alert("Please fill in all fields for the family member.");return}let e=P.fullName.trim().split(" "),t=e[0]||"",r=e.slice(1).join(" ")||"",a={id:v||(0,h.Z)(),firstName:t,lastName:r,dateOfBirth:new Date(P.dateOfBirth),relationship:P.relationship,isDependent:P.relationship===m.S9.CHILD},i=[...D];v?i=i.map(e=>e.id===v?a:e):i.push(a),b(i),N(!1),C(null)},className:"bg-blue-500 hover:bg-blue-600 text-white",children:v?"Update Member":"Save Member"}),a.jsx(o.default,{onClick:()=>{N(!1),C(null)},variant:"outline",children:"Cancel"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-600",children:"Origin Country"}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"originCountry",children:"Origin Country"}),a.jsx(d.default,{id:"originCountry",name:"originCountry",value:g||"",onChange:e=>y(e.target.value),options:_,placeholder:"Select your origin country"})]})]}),a.jsx(o.default,{onClick:()=>{if(!s||!x||!g){alert("Please fill in your Full Name, Date of Birth, and Origin Country.");return}let a=s.trim().split(" "),i=a[0]||"",l=a.slice(1).join(" ")||"",n=[{id:e?.members.find(e=>e.relationship===m.S9.PRIMARY)?.id||(0,h.Z)(),firstName:i,lastName:l,dateOfBirth:new Date(x),relationship:m.S9.PRIMARY,isDependent:!1},...D],o={originCountry:g};console.log("PROFILE_FORM_V_LATEST_DEBUG_005 handleSaveProfile:",{householdUpdates:o,allMembers:n}),t(o),r(n),alert("Profile saved!")},className:"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white",children:"Save Profile"})]})}},8285:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var a=r(10326),i=r(17577),l=r(86438),s=r(79360),n=r(41135),o=r(31009);let d=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,asChild:t=!1,...r},i)=>{let s=t?l.g7:"label";return a.jsx(s,{className:function(...e){return(0,o.m6)((0,n.W)(e))}(d(),e),ref:i,...r})});c.displayName="Label"},24589:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/error.tsx#default`)},82964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/layout.tsx#default`)},24671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(19510);function i(){return a.jsx("div",{className:"container mx-auto py-12 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"loading loading-spinner loading-lg text-primary"}),a.jsx("h2",{className:"text-2xl font-semibold mt-4",children:"Loading..."}),a.jsx("p",{className:"text-base-content/70 mt-2",children:"Please wait while we prepare your content."})]})})}r(71159)},5075:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>l});var a=r(19510);r(71159);let i=(0,r(68570).createProxy)(String.raw`/workspace/src/components/profile/ProfileForm.tsx#default`),l={title:"Profile - Living Abroad Budget",description:"Manage your profile and preferences"};function s(){return(0,a.jsxs)("div",{className:"container mx-auto py-8 px-4 md:px-0",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8 text-center md:text-left",children:"Your Profile"}),a.jsx("div",{className:"card bg-base-200 shadow-xl max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"card-body p-6 md:p-8",children:[a.jsx("h2",{className:"card-title text-2xl mb-2",children:"Household Information"}),a.jsx("p",{className:"mb-6 text-base-content/80",children:"Complete your profile to enable all features of the application. Your origin and destination countries will help set defaults throughout the app."}),a.jsx(i,{})]})})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,290,36,203],()=>r(61497));module.exports=a})();