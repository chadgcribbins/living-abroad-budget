(()=>{var e={};e.id=592,e.ids=[592],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},3734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(24707),r(82964),r(24589),r(24671),r(21869),r(7629),r(11930),r(12523);var a=r(23191),n=r(88716),s=r(37922),i=r.n(s),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["(authenticated)",{children:["scenario",{children:["[scenarioId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,24707)),"/workspace/src/app/(authenticated)/scenario/[scenarioId]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,82964)),"/workspace/src/app/(authenticated)/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24589)),"/workspace/src/app/(authenticated)/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,24671)),"/workspace/src/app/(authenticated)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,21869)),"/workspace/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/workspace/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"/workspace/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/workspace/src/app/not-found.tsx"]}],d=["/workspace/src/app/(authenticated)/scenario/[scenarioId]/edit/page.tsx"],u="/(authenticated)/scenario/[scenarioId]/edit/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(authenticated)/scenario/[scenarioId]/edit/page",pathname:"/scenario/[scenarioId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49376:(e,t,r)=>{Promise.resolve().then(r.bind(r,46674))},82889:(e,t,r)=>{Promise.resolve().then(r.bind(r,82050))},14030:(e,t,r)=>{Promise.resolve().then(r.bind(r,91452))},46674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(10326);r(17577);var n=r(35047);function s({error:e,reset:t}){let r=(0,n.useRouter)();return a.jsx("div",{className:"container mx-auto py-12",children:a.jsx("div",{className:"card bg-error text-error-content shadow-xl max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title text-2xl",children:"Something went wrong!"}),a.jsx("p",{className:"mt-2",children:"We encountered an error while trying to display this page."}),!1,(0,a.jsxs)("div",{className:"card-actions justify-end mt-6",children:[a.jsx("button",{onClick:()=>r.push("/"),className:"btn btn-outline",children:"Go Home"}),a.jsx("button",{onClick:()=>t(),className:"btn btn-primary",children:"Try Again"})]})]})})})}},82050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(10326);r(17577);var n=r(78290),s=r(20050);function i({children:e}){return a.jsx(s.default,{requireCompleteProfile:!0,children:a.jsx(n.default,{children:e})})}},91452:(e,t,r)=>{"use strict";let a;r.r(t),r.d(t,{default:()=>ea});var n,s=r(10326),i=r(17577),l=r(35047),o=r(92631),c=r(98141),d=r(8342),u=r(74723),m=r(74064),h=r(27256),p=r(99837),x=r(89175),f=r(2102),g=r(8285),b=r(47375),j=r(7539),y=r(88211);let v=Object.freeze({left:0,top:0,width:16,height:16}),N=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),w=Object.freeze({...v,...N}),k=Object.freeze({...w,body:"",hidden:!1}),S=(e,t,r,a="")=>{let n=e.split(":");if("@"===e.slice(0,1)){if(n.length<2||n.length>3)return null;a=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){let e=n.pop(),r=n.pop(),s={provider:n.length>0?n[0]:a,prefix:r,name:e};return t&&!T(s)?null:s}let s=n[0],i=s.split("-");if(i.length>1){let e={provider:a,prefix:i.shift(),name:i.join("-")};return t&&!T(e)?null:e}if(r&&""===a){let e={provider:a,prefix:"",name:s};return t&&!T(e,r)?null:e}return null},T=(e,t)=>!!e&&!!((t&&""===e.prefix||e.prefix)&&e.name),I=Object.create(null),P=!1,_=Object.freeze({width:null,height:null}),C=Object.freeze({..._,...N}),R=/(-?[0-9.]*[0-9]+[0-9.]*)/g,O=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function F(e,t,r){if(1===t)return e;if(r=r||100,"number"==typeof e)return Math.ceil(e*t*r)/r;if("string"!=typeof e)return e;let a=e.split(R);if(null===a||!a.length)return e;let n=[],s=a.shift(),i=O.test(s);for(;;){if(i){let e=parseFloat(s);isNaN(e)?n.push(s):n.push(Math.ceil(e*t*r)/r)}else n.push(s);if(void 0===(s=a.shift()))return n.join("");i=!i}}let A=e=>"unset"===e||"undefined"===e||"none"===e,E=/\sid="(\S+)"/g,L="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),q=0,M=Object.create(null),z=Object.create(null),D=["https://api.simplesvg.com","https://api.unisvg.com"],H=[];for(;D.length>0;)1===D.length?H.push(D.shift()):Math.random()>.5?H.push(D.shift()):H.push(D.pop());z[""]=function(e){let t;if("string"==typeof e.resources)t=[e.resources];else if(!((t=e.resources)instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}({resources:["https://api.iconify.design"].concat(H)});let $=(()=>{let e;try{if(e=fetch,"function"==typeof e)return e}catch(e){}})(),G=/[\s,]+/,U={...C,inline:!1},B={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},W={display:"inline-block"},J={backgroundColor:"currentColor"},K={backgroundColor:"transparent"},X={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Y={WebkitMask:J,mask:J,background:K};for(let e in Y){let t=Y[e];for(let r in X)t[e+r]=X[r]}let Z={...U,inline:!0};function V(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}let Q=(e,t,r)=>{let n=t.inline?Z:U,s=function(e,t){let r={...e};for(let e in t){let a=t[e],n=typeof a;e in _?(null===a||a&&("string"===n||"number"===n))&&(r[e]=a):n===typeof r[e]&&(r[e]="rotate"===e?a%4:a)}return r}(n,t),l=t.mode||"svg",o={},c=t.style||{},d={..."svg"===l?B:{}};if(r){let e=S(r,!1,!0);if(e){let t=["iconify"];for(let r of["provider","prefix"])e[r]&&t.push("iconify--"+e[r]);d.className=t.join(" ")}}for(let e in t){let r=t[e];if(void 0!==r)switch(e){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":d.ref=r;break;case"className":d[e]=(d[e]?d[e]+" ":"")+r;break;case"inline":case"hFlip":case"vFlip":s[e]=!0===r||"true"===r||1===r;break;case"flip":"string"==typeof r&&function(e,t){t.split(G).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}})}(s,r);break;case"color":o.color=r;break;case"rotate":"string"==typeof r?s[e]=function(e,t=0){let r=e.replace(/^-?[0-9.]*/,"");function a(e){for(;e<0;)e+=4;return e%4}if(""===r){let t=parseInt(e);return isNaN(t)?0:a(t)}if(r!==e){let t=0;switch(r){case"%":t=25;break;case"deg":t=90}if(t){let n=parseFloat(e.slice(0,e.length-r.length));return isNaN(n)?0:(n/=t)%1==0?a(n):0}}return t}(r):"number"==typeof r&&(s[e]=r);break;case"ariaHidden":case"aria-hidden":!0!==r&&"true"!==r&&delete d["aria-hidden"];break;default:void 0===n[e]&&(d[e]=r)}}let u=function(e,t){let r,a;let n={...w,...e},s={...C,...t},i={left:n.left,top:n.top,width:n.width,height:n.height},l=n.body;[n,s].forEach(e=>{let t;let r=[],a=e.hFlip,n=e.vFlip,s=e.rotate;switch(a?n?s+=2:(r.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),r.push("scale(-1 1)"),i.top=i.left=0):n&&(r.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),r.push("scale(1 -1)"),i.top=i.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4){case 1:r.unshift("rotate(90 "+(t=i.height/2+i.top).toString()+" "+t.toString()+")");break;case 2:r.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:r.unshift("rotate(-90 "+(t=i.width/2+i.left).toString()+" "+t.toString()+")")}s%2==1&&(i.left!==i.top&&(t=i.left,i.left=i.top,i.top=t),i.width!==i.height&&(t=i.width,i.width=i.height,i.height=t)),r.length&&(l=function(e,t,r){var a,n;let s=function(e,t="defs"){let r="",a=e.indexOf("<"+t);for(;a>=0;){let n=e.indexOf(">",a),s=e.indexOf("</"+t);if(-1===n||-1===s)break;let i=e.indexOf(">",s);if(-1===i)break;r+=e.slice(n+1,s).trim(),e=e.slice(0,a).trim()+e.slice(i+1)}return{defs:r,content:e}}(e);return a=s.defs,n=t+s.content+r,a?"<defs>"+a+"</defs>"+n:n}(l,'<g transform="'+r.join(" ")+'">',"</g>"))});let o=s.width,c=s.height,d=i.width,u=i.height;null===o?r=F(a=null===c?"1em":"auto"===c?u:c,d/u):(r="auto"===o?d:o,a=null===c?F(r,u/d):"auto"===c?u:c);let m={},h=(e,t)=>{A(t)||(m[e]=t.toString())};h("width",r),h("height",a);let p=[i.left,i.top,d,u];return m.viewBox=p.join(" "),{attributes:m,viewBox:p,body:l}}(e,s),m=u.attributes;if(s.inline&&(o.verticalAlign="-0.125em"),"svg"===l){d.style={...o,...c},Object.assign(d,m);let e=0,r=t.id;return"string"==typeof r&&(r=r.replace(/-/g,"_")),d.dangerouslySetInnerHTML={__html:function(e){return void 0===a&&function(){try{a=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch(e){a=null}}(),a?a.createHTML(e):e}(function(e,t=L){let r;let a=[];for(;r=E.exec(e);)a.push(r[1]);if(!a.length)return e;let n="suffix"+(16777216*Math.random()|Date.now()).toString(16);return a.forEach(r=>{let a="function"==typeof t?t(r):t+(q++).toString(),s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+n+"$3")}),e=e.replace(RegExp(n,"g"),"")}(u.body,r?()=>r+"ID"+e++:"iconifyReact"))},(0,i.createElement)("svg",d)}let{body:h,width:p,height:x}=e,f="mask"===l||"bg"!==l&&-1!==h.indexOf("currentColor"),g=function(e,t){let r=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let e in t)r+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}(h,{...m,width:p+"",height:x+""});return d.style={...o,"--svg":'url("data:image/svg+xml,'+g.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")+'")',width:V(m.width),height:V(m.height),...W,...f?J:K,...c},(0,i.createElement)("span",d)};(function(e){"boolean"==typeof e&&(P=e)})(!0),n={prepare:(e,t,r)=>{let a=[],n=function(e,t){let r;let a=z[e];if(!a)return 0;if(a.maxURL){let e=0;a.resources.forEach(t=>{e=Math.max(e,t.length)}),r=a.maxURL-e-a.path.length-(t+".json?icons=").length}else r=0;return r}(e,t),s="icons",i={type:s,provider:e,prefix:t,icons:[]},l=0;return r.forEach((r,o)=>{(l+=r.length+1)>=n&&o>0&&(a.push(i),i={type:s,provider:e,prefix:t,icons:[]},l=r.length),i.icons.push(r)}),a.push(i),a},send:(e,t,r)=>{if(!$){r("abort",424);return}let a=function(e){if("string"==typeof e){let t=z[e];if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":a+=t.prefix+".json?"+new URLSearchParams({icons:t.icons.join(",")}).toString();break;case"custom":{let e=t.uri;a+="/"===e.slice(0,1)?e.slice(1):e;break}default:r("abort",400);return}let n=503;$(e+a).then(e=>{let t=e.status;if(200!==t){setTimeout(()=>{r(404===t?"abort":"next",t)});return}return n=501,e.json()}).then(e=>{if("object"!=typeof e||null===e){setTimeout(()=>{404===e?r("abort",e):r("next",n)});return}setTimeout(()=>{r("success",e)})}).catch(()=>{r("next",n)})}},M[""]=n;let ee=(0,i.forwardRef)((e,t)=>(function(e){let[t,r]=(0,i.useState)(!!e.ssr),[a,n]=(0,i.useState)({}),[s,l]=(0,i.useState)(function(t){if(t){let t=e.icon;if("object"==typeof t)return{name:"",data:t};let r=function(e){let t="string"==typeof e?S(e,!0,P):e;if(t){let e=function(e,t){let r=I[e]||(I[e]=Object.create(null));return r[t]||(r[t]={provider:e,prefix:t,icons:Object.create(null),missing:new Set})}(t.provider,t.prefix),r=t.name;return e.icons[r]||(e.missing.has(r)?null:void 0)}}(t);if(r)return{name:t,data:r}}return{name:""}}(!!e.ssr)),{name:o,data:c}=s;return c?Q({...w,...c},e,o):e.children?e.children:e.fallback?e.fallback:(0,i.createElement)("span",{})})({...e,_ref:t})),et=h.Ry({name:h.Z_().min(1,"Income source name is required"),type:h.jb(j.Rp),partner:h.Km(["partner1","partner2","joint"]),amount:h.Rx().positive("Amount must be positive"),currency:h.jb(y.NE),frequency:h.jb(j.oF),taxable:h.O7(),taxTreatment:h.Km(["standard","nhr","exempt"]).optional(),description:h.Z_().optional()}),er=({scenarioId:e,onSave:t})=>{let{income:{tempIncomes:r,taxRegime:a,totalGrossIncome:n,totalNetIncome:l,addIncome:o,updateIncome:c,deleteIncome:h,setTaxRegime:v,loadIncomesFromScenario:N,calculateTotals:w},fx:{settings:k},activeScenario:S,updateScenario:T}=(0,d.o)(),[I,P]=(0,i.useState)(null),[_,C]=(0,i.useState)(!1),{register:R,handleSubmit:O,reset:F,setValue:A,watch:E,formState:{errors:L}}=(0,u.cI)({resolver:(0,m.F)(et),defaultValues:{type:j.Rp.EMPLOYMENT,partner:"partner1",currency:k.baseCurrency,frequency:j.oF.MONTHLY,taxable:!0,taxTreatment:"standard"}});(0,i.useEffect)(()=>{e&&S&&N(S.content.incomeSources||[],S.content.household?.taxRegime)},[e,S,N]);let q=E("taxable"),M=async()=>{e&&S&&(await T(e,{content:{...S.content,incomeSources:r,household:{...S.content.household,taxRegime:a}}}),t?.())},z=e=>{P(e.id),A("name",e.name),A("type",e.type),A("partner",e.partner),A("amount",e.amount.amount),A("currency",e.amount.currency),A("frequency",e.frequency),A("taxable",e.taxable),A("taxTreatment",e.taxTreatment||"standard"),A("description",e.description||""),C(!0)},D=t=>{confirm("Are you sure you want to delete this income source?")&&(h(t),e&&M())},H=Object.values(j.Rp).map(e=>({value:e,label:e.charAt(0)+e.slice(1).toLowerCase().replace("_"," ")})),$=Object.values(j.oF).map(e=>({value:e,label:e.charAt(0)+e.slice(1).toLowerCase()})),G=Object.values(y.NE).map(e=>({value:e,label:e})),U=[{value:y.LT.STANDARD,label:"Standard Tax Regime"},{value:y.LT.PORTUGAL_NHR,label:"Portugal NHR (20% flat rate)"}];return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(b.default,{children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tax Regime"}),s.jsx(f.default,{value:a,onChange:e=>{v(e.target.value),w()},options:U})]})}),s.jsx(b.default,{children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Income Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Gross Income"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[n.currency," ",n.amount.toFixed(2),"/month"]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Net Income"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[l.currency," ",l.amount.toFixed(2),"/month"]})]})]})]})}),s.jsx(b.default,{children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Income Sources"}),!_&&(0,s.jsxs)(p.default,{onClick:()=>C(!0),variant:"primary",size:"sm",children:[s.jsx(ee,{icon:"mdi:plus",className:"mr-2"}),"Add Income Source"]})]}),r.length>0&&s.jsx("div",{className:"space-y-3 mb-6",children:r.map(e=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["joint"===e.partner?"Joint":`Partner ${e.partner.slice(-1)}`," •",e.type.toLowerCase()," •",e.frequency.toLowerCase()]}),(0,s.jsxs)("p",{className:"text-sm font-medium mt-1",children:[e.amount.currency," ",e.amount.amount.toFixed(2),e.taxable&&e.taxTreatment&&(0,s.jsxs)("span",{className:"text-gray-500",children:[" (",e.taxTreatment,")"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(p.default,{onClick:()=>z(e),variant:"outline",size:"sm",children:s.jsx(ee,{icon:"mdi:pencil"})}),s.jsx(p.default,{onClick:()=>D(e.id),variant:"outline",size:"sm",children:s.jsx(ee,{icon:"mdi:delete"})})]})]})},e.id))}),_&&(0,s.jsxs)("form",{onSubmit:O(t=>{let r={name:t.name,description:t.description,type:t.type,partner:t.partner,amount:{amount:t.amount,currency:t.currency},frequency:t.frequency,isActive:!0,taxable:t.taxable,taxTreatment:t.taxTreatment};I?(c(I,r),P(null)):o(r),F(),C(!1),e&&M()}),className:"space-y-4 border-t pt-4",children:[s.jsx("h4",{className:"font-medium",children:I?"Edit Income Source":"Add Income Source"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"name",children:"Income Source Name"}),s.jsx(x.default,{id:"name",...R("name"),placeholder:"e.g., Main Salary, Rental Income",error:L.name?.message})]}),(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"type",children:"Income Type"}),s.jsx(f.default,{id:"type",...R("type"),options:H,error:L.type?.message})]}),(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"partner",children:"Partner"}),s.jsx(f.default,{id:"partner",...R("partner"),options:[{value:"partner1",label:"Partner 1"},{value:"partner2",label:"Partner 2"},{value:"joint",label:"Joint Income"}],error:L.partner?.message})]}),(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"amount",children:"Amount"}),s.jsx(x.default,{id:"amount",type:"number",step:"0.01",...R("amount",{valueAsNumber:!0}),placeholder:"0.00",error:L.amount?.message})]}),(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"currency",children:"Currency"}),s.jsx(f.default,{id:"currency",...R("currency"),options:G,error:L.currency?.message})]}),(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"frequency",children:"Frequency"}),s.jsx(f.default,{id:"frequency",...R("frequency"),options:$,error:L.frequency?.message})]}),s.jsx("div",{children:(0,s.jsxs)(g._,{htmlFor:"taxable",children:[s.jsx("input",{id:"taxable",type:"checkbox",...R("taxable"),className:"mr-2"}),"Taxable Income"]})}),q&&(0,s.jsxs)("div",{children:[s.jsx(g._,{htmlFor:"taxTreatment",children:"Tax Treatment"}),s.jsx(f.default,{id:"taxTreatment",...R("taxTreatment"),options:[{value:"standard",label:"Standard"},{value:"nhr",label:"NHR Rate"},{value:"exempt",label:"Tax Exempt"}]})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[s.jsx(g._,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(x.default,{id:"description",...R("description"),placeholder:"Additional notes about this income"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(p.default,{type:"submit",variant:"primary",children:[I?"Update":"Add"," Income"]}),s.jsx(p.default,{type:"button",variant:"outline",onClick:()=>{F(),C(!1),P(null)},children:"Cancel"})]})]})]})}),e&&s.jsx("div",{className:"flex justify-end",children:s.jsx(p.default,{onClick:M,variant:"primary",size:"lg",children:"Save Income Data to Scenario"})})]})},ea=({params:e})=>{let t=(0,l.useRouter)(),{activeScenario:r,setActiveScenarioId:a,loadScenarios:n}=(0,o.Th)(),[d,u]=(0,i.useState)("overview");if((0,i.useEffect)(()=>{r||n(),a(e.scenarioId)},[e.scenarioId,a,n,r]),!r)return s.jsx(c._z,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Loading scenario..."})})});let m=[{id:"overview",label:"Overview",icon:"mdi:view-dashboard"},{id:"income",label:"Income",icon:"mdi:cash-multiple"},{id:"housing",label:"Housing",icon:"mdi:home",disabled:!0},{id:"transportation",label:"Transportation",icon:"mdi:car",disabled:!0},{id:"education",label:"Education",icon:"mdi:school",disabled:!0},{id:"healthcare",label:"Healthcare",icon:"mdi:hospital",disabled:!0},{id:"lifestyle",label:"Lifestyle",icon:"mdi:shopping",disabled:!0},{id:"analysis",label:"Analysis",icon:"mdi:chart-line",disabled:!0}],h=e=>{u(e)};return(0,s.jsxs)(c._z,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(p.default,{onClick:()=>{t.push("/scenarios")},variant:"outline",size:"sm",className:"mb-4",children:[s.jsx(ee,{icon:"mdi:arrow-left",className:"mr-2"}),"Back to Scenarios"]}),s.jsx("h1",{className:"text-3xl font-bold",children:r.name}),(0,s.jsxs)("p",{className:"text-gray-600 mt-2",children:["Build your complete financial picture for moving from ",r.content.originCountry," to ",r.content.destinationCountry]})]}),s.jsx("div",{className:"tabs tabs-boxed mb-6",children:m.map(e=>(0,s.jsxs)("button",{onClick:()=>!e.disabled&&h(e.id),className:`tab ${d===e.id?"tab-active":""} ${e.disabled?"tab-disabled opacity-50 cursor-not-allowed":""}`,disabled:e.disabled,children:[s.jsx(ee,{icon:e.icon,className:"mr-2"}),e.label]},e.id))}),s.jsx("div",{className:"mt-6",children:(()=>{switch(d){case"overview":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-base-100 p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scenario Details"}),(0,s.jsxs)("dl",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Name"}),s.jsx("dd",{className:"font-medium",children:r.name})]}),(0,s.jsxs)("div",{children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Created"}),s.jsx("dd",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Origin Country"}),s.jsx("dd",{className:"font-medium",children:r.content.originCountry})]}),(0,s.jsxs)("div",{children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Destination Country"}),s.jsx("dd",{className:"font-medium",children:r.content.destinationCountry})]})]})]}),(0,s.jsxs)("div",{className:"bg-base-100 p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Completion Status"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Complete each section to build your comprehensive relocation budget."}),s.jsx("div",{className:"space-y-2",children:m.slice(1,-1).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(ee,{icon:e.icon,className:`text-xl ${e.disabled?"text-gray-400":"text-primary"}`}),s.jsx("span",{className:e.disabled?"text-gray-500":"",children:e.label})]}),s.jsx("span",{className:`text-sm ${e.disabled?"text-gray-400":"text-green-600"}`,children:e.disabled?"Not Started":"In Progress"})]},e.id))})]})]});case"income":return s.jsx(er,{scenarioId:e.scenarioId,onSave:()=>{console.log("Income data saved")}});default:return(0,s.jsxs)("div",{className:"bg-base-100 p-8 rounded-lg text-center",children:[s.jsx(ee,{icon:"mdi:construction",className:"text-6xl text-gray-400 mb-4 mx-auto"}),s.jsx("p",{className:"text-gray-500",children:"This section is coming soon!"})]})}})()})]})}},8285:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var a=r(10326),n=r(17577),s=r(86438),i=r(79360),l=r(41135),o=r(31009);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,asChild:t=!1,...r},n)=>{let i=t?s.g7:"label";return a.jsx(i,{className:function(...e){return(0,o.m6)((0,l.W)(e))}(c(),e),ref:n,...r})});d.displayName="Label"},24589:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/error.tsx#default`)},82964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/layout.tsx#default`)},24671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(19510);function n(){return a.jsx("div",{className:"container mx-auto py-12 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"loading loading-spinner loading-lg text-primary"}),a.jsx("h2",{className:"text-2xl font-semibold mt-4",children:"Loading..."}),a.jsx("p",{className:"text-base-content/70 mt-2",children:"Please wait while we prepare your content."})]})})}r(71159)},24707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/scenario/[scenarioId]/edit/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,290,36,203],()=>r(3734));module.exports=a})();