"use strict";(()=>{var e={};e.id=944,e.ids=[944],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},72356:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>A,patchFetch:()=>d,requestAsyncStorage:()=>u,routeModule:()=>N,serverHooks:()=>R,staticGenerationAsyncStorage:()=>p});var a={};r.r(a),r.d(a,{GET:()=>c});var o=r(49303),s=r(88716),n=r(60670),i=r(87070),E=r(68409);async function c(e,{params:t}){let{date:r}=t;if(!/^\d{4}-\d{2}-\d{2}$/.test(r))return i.NextResponse.json({error:"Invalid date format. Please use YYYY-MM-DD."},{status:400});let a=process.env.OPENEXCHANGERATES_API_KEY;if(!a)return i.NextResponse.json({error:"OpenExchangeRates API key not configured"},{status:500});try{let t=e.nextUrl.searchParams.get("base")||E.NE.USD,o=`https://openexchangerates.org/api/historical/${r}.json?app_id=${a}&base=USD`,s=await fetch(o);if(!s.ok){let e=await s.json();throw Error(`OpenExchangeRates API error: ${e.error||s.statusText}`)}let n=await s.json();if(t!==E.NE.USD){let e=n.rates[t];if(e){let r={};return Object.entries(n.rates).forEach(([t,a])=>{r[t]=Number((a/e).toFixed(6))}),r[t]=1,i.NextResponse.json({...n,base:t,rates:r,note:"Base currency converted from USD (OpenExchangeRates free tier limitation)"})}}return i.NextResponse.json(n)}catch(e){return console.error(`Error fetching historical rates for ${r}:`,e),i.NextResponse.json({error:e instanceof Error?e.message:"Unknown error fetching historical exchange rates"},{status:500})}}let N=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/fx/historical/[date]/route",pathname:"/api/fx/historical/[date]",filename:"route",bundlePath:"app/api/fx/historical/[date]/route"},resolvedPagePath:"/workspace/src/app/api/fx/historical/[date]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:R}=N,A="/api/fx/historical/[date]/route";function d(){return(0,n.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:p})}},68409:(e,t,r)=>{var a,o,s,n,i;r.d(t,{NE:()=>o}),function(e){e.GB="GB",e.PT="PT",e.US="US",e.ES="ES",e.FR="FR",e.IT="IT",e.DE="DE",e.CA="CA",e.AU="AU",e.NZ="NZ",e.IE="IE",e.CH="CH",e.GR="GR",e.AT="AT",e.BE="BE",e.NL="NL",e.SE="SE",e.NO="NO",e.DK="DK",e.FI="FI",e.JP="JP",e.CN="CN",e.SG="SG",e.AE="AE",e.BR="BR",e.MX="MX"}(a||(a={})),function(e){e.GBP="GBP",e.EUR="EUR",e.USD="USD",e.JPY="JPY",e.CAD="CAD",e.AUD="AUD"}(o||(o={})),function(e){e.ONCE="ONCE",e.WEEKLY="WEEKLY",e.BIWEEKLY="BIWEEKLY",e.MONTHLY="MONTHLY",e.QUARTERLY="QUARTERLY",e.ANNUALLY="ANNUALLY"}(s||(s={})),function(e){e.CITIZEN="CITIZEN",e.PERMANENT_RESIDENT="PERMANENT_RESIDENT",e.TEMPORARY_RESIDENT="TEMPORARY_RESIDENT",e.NON_RESIDENT="NON_RESIDENT"}(n||(n={})),function(e){e.STANDARD="STANDARD",e.PORTUGAL_NHR="PORTUGAL_NHR"}(i||(i={}))}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(72356));module.exports=a})();