exports.id=481,exports.ids=[481],exports.modules={49376:(e,a,s)=>{Promise.resolve().then(s.bind(s,46674))},82889:(e,a,s)=>{Promise.resolve().then(s.bind(s,82050))},46674:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var t=s(10326);s(17577);var l=s(35047);function n({error:e,reset:a}){let s=(0,l.useRouter)();return t.jsx("div",{className:"container mx-auto py-12",children:t.jsx("div",{className:"card bg-error text-error-content shadow-xl max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("h2",{className:"card-title text-2xl",children:"Something went wrong!"}),t.jsx("p",{className:"mt-2",children:"We encountered an error while trying to display this page."}),!1,(0,t.jsxs)("div",{className:"card-actions justify-end mt-6",children:[t.jsx("button",{onClick:()=>s.push("/"),className:"btn btn-outline",children:"Go Home"}),t.jsx("button",{onClick:()=>a(),className:"btn btn-primary",children:"Try Again"})]})]})})})}},82050:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(10326);s(17577);var l=s(78290),n=s(20050);function r({children:e}){return t.jsx(n.default,{requireCompleteProfile:!0,children:t.jsx(l.default,{children:e})})}},19431:(e,a,s)=>{"use strict";s.d(a,{D:()=>x});var t=s(10326),l=s(17577),n=s(35047),r=s(93774),i=s(6706);let c=({scenario:e,onDelete:a,onDuplicate:s,onRename:c})=>{let o=(0,n.useRouter)(),[d,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(e.name),j=(0,i.B)(new Date(e.updatedAt),new Date,{addSuffix:!0});return(0,t.jsxs)(t.Fragment,{children:[t.jsx(r.Zb,{className:"h-full transition-all hover:shadow-lg",children:(0,t.jsxs)("div",{className:"p-6 flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:e.name}),"draft"===e.completionStatus&&t.jsx("div",{className:"badge badge-warning ml-2",children:"Draft"}),"complete"===e.completionStatus&&t.jsx("div",{className:"badge badge-success ml-2",children:"Complete"}),(0,t.jsxs)("div",{className:"dropdown dropdown-end ml-auto",children:[t.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-sm btn-square",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})}),(0,t.jsxs)("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52",children:[t.jsx("li",{children:t.jsx("a",{onClick:()=>x(!0),children:"Rename"})}),t.jsx("li",{children:t.jsx("a",{onClick:()=>s(e.id),children:"Duplicate"})}),t.jsx("li",{children:t.jsx("a",{onClick:()=>m(!0),className:"text-error",children:"Delete"})})]})]})]}),e.description&&t.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center mt-auto pt-4",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[t.jsx("div",{className:"badge badge-outline",children:e.originCountry}),t.jsx("div",{className:"badge badge-outline",children:e.destinationCountry})]}),(0,t.jsxs)("div",{className:"ml-auto text-xs text-gray-500",children:["Updated ",j]})]}),t.jsx("div",{className:"mt-4",children:t.jsx(r.zx,{onClick:()=>{o.push(`/scenarios/${e.id}`)},className:"w-full",children:"View Scenario"})})]})}),t.jsx(r.u_,{isOpen:d,onClose:()=>m(!1),title:"Delete Scenario",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("p",{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[t.jsx(r.zx,{variant:"ghost",onClick:()=>m(!1),children:"Cancel"}),t.jsx(r.zx,{variant:"primary",className:"btn-error",onClick:()=>{a(e.id),m(!1)},children:"Delete"})]})]})}),t.jsx(r.u_,{isOpen:u,onClose:()=>x(!1),title:"Rename Scenario",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:"Scenario Name"})}),t.jsx("input",{type:"text",className:"input input-bordered w-full",value:h,onChange:e=>p(e.target.value),placeholder:"Enter scenario name"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(r.zx,{variant:"ghost",onClick:()=>x(!1),children:"Cancel"}),t.jsx(r.zx,{onClick:()=>{""!==h.trim()&&(c(e.id,h),x(!1))},children:"Save"})]})]})})]})};var o=s(88211);let d={US:"United States",GB:"United Kingdom",PT:"Portugal",ES:"Spain",FR:"France",IT:"Italy",DE:"Germany",CA:"Canada",AU:"Australia",NZ:"New Zealand",IE:"Ireland",CH:"Switzerland",GR:"Greece",AT:"Austria",BE:"Belgium",NL:"Netherlands",SE:"Sweden",NO:"Norway",DK:"Denmark",FI:"Finland",JP:"Japan",CN:"China",SG:"Singapore",AE:"United Arab Emirates",BR:"Brazil",MX:"Mexico"};o.Cv.PT,o.Cv.ES,o.Cv.FR,o.Cv.IT,o.Cv.GR,o.Cv.CH,o.Cv.DE,o.Cv.NL,o.Cv.IE,o.Cv.CA,o.Cv.AU,o.Cv.NZ,o.Cv.SG,o.Cv.AE;var m=s(92631);let u=({isOpen:e,onClose:a,onSubmit:s,title:n="Create New Scenario"})=>{let{household:i}=(0,m.Un)(),c={name:"",description:"",destinationCountry:i?.destinationCountry||"PT"},[o,u]=(0,l.useState)(c),[x,h]=(0,l.useState)({}),[p,j]=(0,l.useState)(!1),v=e=>{let{name:a,value:s}=e.target;u(e=>({...e,[a]:s})),x[a]&&h(e=>{let s={...e};return delete s[a],s})},N=()=>{let e={};return o.name.trim()||(e.name="Scenario name is required"),o.destinationCountry||(e.destinationCountry="Destination country is required"),console.log("CreateScenarioModal: validation errors:",e),h(e),0===Object.keys(e).length},g=async()=>{if(console.log("CreateScenarioModal: handleSubmit called with data:",o),N()){j(!0);try{console.log("CreateScenarioModal: validation passed, submitting form"),await s(o),a()}catch(e){console.error("CreateScenarioModal: onSubmit failed",e)}finally{j(!1)}}else console.log("CreateScenarioModal: validation failed, not submitting")};return(0,l.useEffect)(()=>{u({name:"",description:"",destinationCountry:i?.destinationCountry||"PT"})},[i,e]),t.jsx(r.u_,{isOpen:e,onClose:a,title:n,children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:"Scenario Name"})}),t.jsx(r.II,{name:"name",value:o.name,onChange:v,placeholder:"Enter scenario name",error:x.name})]}),(0,t.jsxs)("div",{className:"form-control w-full",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:"Description (Optional)"})}),t.jsx("textarea",{name:"description",value:o.description,onChange:v,placeholder:"Enter a brief description",className:"textarea textarea-bordered h-24"})]}),(0,t.jsxs)("div",{className:"form-control w-full md:col-span-2",children:[t.jsx("label",{className:"label",children:t.jsx("span",{className:"label-text",children:"Destination Country"})}),t.jsx(r.Ph,{name:"destinationCountry",value:o.destinationCountry,onChange:v,error:x.destinationCountry,options:Object.entries(d).map(([e,a])=>({value:e,label:a}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx(r.zx,{variant:"ghost",onClick:a,children:"Cancel"}),t.jsx(r.zx,{onClick:g,disabled:p,className:p?"loading":"",children:p?"Creating...":"Create Scenario"})]})]})})},x=({scenarios:e,onCreateScenario:a,onDeleteScenario:s,onDuplicateScenario:n,onRenameScenario:i})=>{console.log("ScenarioList: received scenarios prop:",e);let[o,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(""),[p,j]=(0,l.useState)("updatedAt"),[v,N]=(0,l.useState)("desc"),[g,C]=(0,l.useState)(""),[b,f]=(0,l.useState)("all"),w=(0,l.useMemo)(()=>e.filter(e=>{let a=""===x||e.name.toLowerCase().includes(x.toLowerCase())||e.description&&e.description.toLowerCase().includes(x.toLowerCase()),s=""===g||e.destinationCountry===g,t="all"===b||e.completionStatus===b;return a&&s&&t}).sort((e,a)=>{let s=0;return s="name"===p?e.name.localeCompare(a.name):"createdAt"===p?new Date(e.createdAt).getTime()-new Date(a.createdAt).getTime():new Date(e.updatedAt).getTime()-new Date(a.updatedAt).getTime(),"asc"===v?s:-s}),[e,x,p,v,g,b]),y=(0,l.useMemo)(()=>{let a=new Set;return e.forEach(e=>{a.add(e.destinationCountry)}),Array.from(a).sort()},[e]),S=e=>{e===p?N("asc"===v?"desc":"asc"):(j(e),N("desc"))};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[(0,t.jsxs)("div",{className:"relative w-full sm:w-64",children:[t.jsx(r.II,{type:"text",placeholder:"Search scenarios...",value:x,onChange:e=>h(e.target.value),className:"pr-10"}),t.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>h(""),style:{display:x?"block":"none"},children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx(r.Ph,{value:g,onChange:e=>C(e.target.value),className:"w-full sm:w-48",options:[{value:"",label:"All Countries"},...y.map(e=>({value:e,label:d[e]||e}))]}),t.jsx(r.Ph,{value:b,onChange:e=>f(e.target.value),className:"w-full sm:w-48",options:[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"complete",label:"Complete"}]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[(0,t.jsxs)("div",{className:"join w-full sm:w-auto",children:[(0,t.jsxs)("button",{className:`join-item btn ${"updatedAt"===p?"btn-active":""}`,onClick:()=>S("updatedAt"),children:["Last Updated","updatedAt"===p&&t.jsx("span",{className:"ml-1",children:"desc"===v?"↓":"↑"})]}),(0,t.jsxs)("button",{className:`join-item btn ${"createdAt"===p?"btn-active":""}`,onClick:()=>S("createdAt"),children:["Created","createdAt"===p&&t.jsx("span",{className:"ml-1",children:"desc"===v?"↓":"↑"})]}),(0,t.jsxs)("button",{className:`join-item btn ${"name"===p?"btn-active":""}`,onClick:()=>S("name"),children:["Name","name"===p&&t.jsx("span",{className:"ml-1",children:"desc"===v?"↓":"↑"})]})]}),t.jsx(r.zx,{onClick:()=>m(!0),className:"w-full sm:w-auto",children:"Create New Scenario"})]})]}),w.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>t.jsx(c,{scenario:e,onDelete:s,onDuplicate:n,onRename:i},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12 bg-base-200 rounded-lg",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No scenarios found"}),x||g?t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters to find what you're looking for."}):(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-500",children:"You haven't created any scenarios yet. Get started by creating your first one!"}),t.jsx(r.zx,{onClick:()=>m(!0),children:"Create Your First Scenario"})]})]}),t.jsx(u,{isOpen:o,onClose:()=>m(!1),onSubmit:a})]})}},24589:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/error.tsx#default`)},82964:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/workspace/src/app/(authenticated)/layout.tsx#default`)},24671:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(19510);function l(){return t.jsx("div",{className:"container mx-auto py-12 flex flex-col items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"loading loading-spinner loading-lg text-primary"}),t.jsx("h2",{className:"text-2xl font-semibold mt-4",children:"Loading..."}),t.jsx("p",{className:"text-base-content/70 mt-2",children:"Please wait while we prepare your content."})]})})}s(71159)}};