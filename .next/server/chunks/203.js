exports.id=203,exports.ids=[203],exports.modules={21251:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},99859:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,74310)),Promise.resolve().then(r.bind(r,3855)),Promise.resolve().then(r.bind(r,71620)),Promise.resolve().then(r.bind(r,37110)),Promise.resolve().then(r.bind(r,20050)),Promise.resolve().then(r.bind(r,78290)),Promise.resolve().then(r.bind(r,3557)),Promise.resolve().then(r.bind(r,35494)),Promise.resolve().then(r.bind(r,24170)),Promise.resolve().then(r.bind(r,17676)),Promise.resolve().then(r.bind(r,38642)),Promise.resolve().then(r.bind(r,8555)),Promise.resolve().then(r.bind(r,99837)),Promise.resolve().then(r.bind(r,47375)),Promise.resolve().then(r.bind(r,93939)),Promise.resolve().then(r.bind(r,28417)),Promise.resolve().then(r.bind(r,89175)),Promise.resolve().then(r.bind(r,28676)),Promise.resolve().then(r.bind(r,72554)),Promise.resolve().then(r.bind(r,2102)),Promise.resolve().then(r.bind(r,92520)),Promise.resolve().then(r.bind(r,91131)),Promise.resolve().then(r.bind(r,78744)),Promise.resolve().then(r.bind(r,84795))},2620:(e,t,r)=>{Promise.resolve().then(r.bind(r,16507))},38708:(e,t,r)=>{Promise.resolve().then(r.bind(r,52031))},35303:()=>{},16507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(10326);r(17577);var a=r(37925);function o({error:e,reset:t}){return s.jsx("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Something went wrong"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"We encountered an error while processing your request. Please try again or contact support if the issue persists."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(a.zx,{onClick:t,variant:"primary",children:"Try Again"}),s.jsx(a.zx,{onClick:()=>window.location.href="/",variant:"ghost",children:"Go Home"})]}),!1]})})}},74310:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(10326);r(17577);var a=r(961);let o=[{date:"Jan",expenses:1500,income:2500,savings:1e3},{date:"Feb",expenses:1600,income:2700,savings:1100},{date:"Mar",expenses:1400,income:2800,savings:1400},{date:"Apr",expenses:1700,income:2900,savings:1200},{date:"May",expenses:1800,income:3e3,savings:1200},{date:"Jun",expenses:1500,income:3100,savings:1600}],n=[{name:"Housing",current:900,average:800},{name:"Food",current:400,average:350},{name:"Transport",current:200,average:250},{name:"Utilities",current:150,average:180},{name:"Entertainment",current:300,average:220},{name:"Other",current:250,average:300}],i=[{name:"Stocks",value:4500},{name:"Bonds",value:2500},{name:"Cash",value:1200},{name:"Real Estate",value:3e3},{name:"Crypto",value:800}],l=e=>`$${e.toLocaleString()}`,c=()=>(0,s.jsxs)("div",{className:"space-y-8 p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Financial Dashboard"}),s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Income & Expenses Trend"}),s.jsx("p",{className:"text-sm text-base-content/70",children:"Monthly financial overview"}),s.jsx("div",{className:"h-80 mt-4",children:s.jsx(a.wW,{data:o,lines:[{dataKey:"income",color:"#4CAF50",name:"Income"},{dataKey:"expenses",color:"#FF5252",name:"Expenses"},{dataKey:"savings",color:"#2196F3",name:"Savings"}],formatter:l})})]})}),s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Expense Comparison"}),s.jsx("p",{className:"text-sm text-base-content/70",children:"Current vs Average"}),s.jsx("div",{className:"h-80 mt-4",children:s.jsx(a.vz,{data:n,bars:[{dataKey:"current",color:"#FF5252",name:"Current Month"},{dataKey:"average",color:"#9C27B0",name:"Monthly Average"}],formatter:l})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Investment Portfolio"}),s.jsx("p",{className:"text-sm text-base-content/70",children:"Asset allocation"}),s.jsx("div",{className:"h-80 mt-4",children:s.jsx(a.uc,{data:i,innerRadius:"60%",formatter:l,colors:["#4CAF50","#2196F3","#FFEB3B","#FF9800","#9C27B0"]})})]})}),s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Savings Goal Progress"}),s.jsx("p",{className:"text-sm text-base-content/70",children:"Emergency fund status"}),s.jsx("div",{className:"h-80 mt-4 flex items-center justify-center",children:s.jsx(a.oN,{value:75,min:0,max:100,thresholds:[33,67],colors:["#FF5252","#FFEB3B","#4CAF50"],formatter:e=>`${e}%`,label:"Goal: $10,000",showLegend:!0,legendLabels:["At Risk","Building","On Track"]})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Debt-to-Income"}),s.jsx("div",{className:"h-60 mt-2",children:s.jsx(a.oN,{value:38,min:0,max:100,thresholds:[35,45],colors:["#4CAF50","#FFEB3B","#FF5252"],formatter:e=>`${e}%`,innerRadius:"65%",outerRadius:"85%"})})]})}),s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Monthly Savings Rate"}),s.jsx("div",{className:"h-60 mt-2",children:s.jsx(a.oN,{value:22,min:0,max:50,thresholds:[15,25],colors:["#FF5252","#FFEB3B","#4CAF50"],formatter:e=>`${e}%`,innerRadius:"65%",outerRadius:"85%"})})]})}),s.jsx("div",{className:"card bg-base-100 shadow-xl",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Investment Return"}),s.jsx("div",{className:"h-60 mt-2",children:s.jsx(a.oN,{value:8.5,min:0,max:15,thresholds:[5,10],colors:["#FF5252","#FFEB3B","#4CAF50"],formatter:e=>`${e}%`,innerRadius:"65%",outerRadius:"85%"})})]})})]})]})},38642:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326);r(17577);var a=r(8342),o=r(92631),n=r(35408);let i=()=>{let e=(0,a.o)(e=>e),{activeView:t,sidebarOpen:r}=(0,o.HJ)(),i=(0,o.tF)();(0,o.J7)();let l=(0,n.n)();return(0,s.jsxs)("div",{className:"p-4 bg-base-200 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Store Diagnosis"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold",children:"Direct Store Access:"}),s.jsx("pre",{className:"bg-base-300 p-2 rounded overflow-auto text-xs",children:JSON.stringify({profileExists:!!e.profile,householdExists:!!e.profile?.household,uiExists:!!e.ui,activeViewExists:!!e.ui?.activeView},null,2)})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold",children:"useNavigation Hook:"}),s.jsx("pre",{className:"bg-base-300 p-2 rounded overflow-auto text-xs",children:JSON.stringify({activeView:t,sidebarOpen:r},null,2)})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold",children:"useHousehold Hook:"}),s.jsx("pre",{className:"bg-base-300 p-2 rounded overflow-auto text-xs",children:JSON.stringify({exists:!!i,membersCount:i?.members?.length||0},null,2)})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-bold",children:"useAppNavigation Hook:"}),s.jsx("pre",{className:"bg-base-300 p-2 rounded overflow-auto text-xs",children:JSON.stringify({currentRoute:l.currentRoute,currentSection:l.currentSection,activeView:l.activeView,sidebarOpen:l.sidebarOpen},null,2)})]})]})]})}},961:(e,t,r)=>{"use strict";r.d(t,{vz:()=>x,oN:()=>j,wW:()=>m,uc:()=>N});var s=r(10326);r(17577);var a=r(30660),o=r(14958),n=r(18423),i=r(62637),l=r(9997),c=r(44675),d=r(69274),u=r(74390);let m=({data:e,lines:t,xAxisDataKey:r="date",height:m=400,width:h="100%",className:g="",showGrid:p=!0,showLegend:x=!0,formatter:f,tooltipFormatter:v,tooltipLabelFormatter:N})=>s.jsx("div",{className:`w-full h-full ${g}`,children:s.jsx(a.h,{width:h,height:m,children:(0,s.jsxs)(o.w,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[p&&s.jsx(n.q,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),s.jsx(i.K,{dataKey:r,tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"},axisLine:{stroke:"#e0e0e0"}}),s.jsx(l.B,{tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"},axisLine:{stroke:"#e0e0e0"},tickFormatter:f}),s.jsx(c.u,{content:s.jsx(({active:e,payload:t,label:r})=>{if(!e||!t?.length)return null;let a=N?N(r):r;return(0,s.jsxs)("div",{className:"bg-base-100 shadow-md p-3 border border-base-300 rounded-md",children:[s.jsx("p",{className:"font-semibold",children:a}),s.jsx("div",{className:"mt-2",children:t.map((e,t)=>{let r=v?v(e.value,e.name)[0]:f?f(e.value):e.value;return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsxs)("span",{className:"font-medium",children:[e.name,":"]}),s.jsx("span",{children:r})]},`tooltip-item-${t}`)})})]})},{})}),x&&s.jsx(d.D,{}),t.map((e,t)=>s.jsx(u.x,{type:"monotone",dataKey:e.dataKey,stroke:e.color,name:e.name||e.dataKey,dot:{r:4},activeDot:{r:6}},`line-${t}`))]})})});var h=r(8564),g=r(99630),p=r(49844);let x=({data:e,bars:t,height:r=400,width:o="100%",className:u="",showGrid:m=!0,showLegend:x=!0,formatter:f,tooltipFormatter:v,tooltipLabelFormatter:N,layout:b="horizontal",barSize:j,stackId:y,isStacked:E=!1,barGap:S,barCategoryGap:w,useColorfulBars:A=!1,colorfulBarColors:L=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#a4de6c","#d0ed57","#ffc658"]})=>s.jsx("div",{className:`w-full h-full ${u}`,children:s.jsx(a.h,{width:o,height:r,children:(0,s.jsxs)(p.v,{data:e,layout:b,margin:{top:10,right:30,left:0,bottom:0},barGap:S,barCategoryGap:w,children:[m&&s.jsx(n.q,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),s.jsx(i.K,{dataKey:"name",tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"},axisLine:{stroke:"#e0e0e0"},type:"vertical"===b?"number":"category",tickFormatter:"vertical"===b?f:void 0}),s.jsx(l.B,{tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"},axisLine:{stroke:"#e0e0e0"},tickFormatter:"horizontal"===b?f:void 0,type:"vertical"===b?"category":"number"}),s.jsx(c.u,{content:s.jsx(({active:e,payload:t,label:r})=>{if(!e||!t?.length)return null;let a=N?N(r):r;return(0,s.jsxs)("div",{className:"bg-base-100 shadow-md p-3 border border-base-300 rounded-md",children:[s.jsx("p",{className:"font-semibold",children:a}),s.jsx("div",{className:"mt-2",children:t.map((e,t)=>{let r=v?v(e.value,e.name)[0]:f?f(e.value):e.value;return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsxs)("span",{className:"font-medium",children:[e.name,":"]}),s.jsx("span",{children:r})]},`tooltip-item-${t}`)})})]})},{})}),x&&s.jsx(d.D,{}),1===t.length&&A?s.jsx(h.$,{dataKey:t[0].dataKey,name:t[0].name||t[0].dataKey,barSize:j,children:e.map((e,t)=>s.jsx(g.b,{fill:L[t%L.length]},`cell-${t}`))}):null,A&&1===t.length?null:t.map((e,t)=>s.jsx(h.$,{dataKey:e.dataKey,fill:e.color,name:e.name||e.dataKey,stackId:E?y||"stack":void 0,barSize:j},`bar-${t}`))]})})});var f=r(20751),v=r(78948);let N=({data:e,height:t=400,width:r="100%",className:o="",innerRadius:n=0,outerRadius:i="80%",showLegend:l=!0,formatter:u,tooltipFormatter:m,colors:h=["#8884d8","#83a6ed","#8dd1e1","#82ca9d","#a4de6c","#d0ed57","#ffc658"],dataKey:p="value",nameKey:x="name",paddingAngle:N=0,activeIndex:b,onSliceClick:j,startAngle:y=0,endAngle:E=360,labelLine:S=!0,label:w=!1})=>s.jsx("div",{className:`w-full h-full ${o}`,children:s.jsx(a.h,{width:r,height:t,children:(0,s.jsxs)(f.u,{children:[s.jsx(v.b,{activeIndex:b,data:e,cx:"50%",cy:"50%",innerRadius:n,outerRadius:i,nameKey:x,dataKey:p,paddingAngle:N,startAngle:y,endAngle:E,onClick:(e,t)=>{j&&j(e,t)},labelLine:S,label:w,children:e.map((e,t)=>s.jsx(g.b,{fill:e.color||h[t%h.length]},`cell-${t}`))}),s.jsx(c.u,{content:s.jsx(({active:e,payload:t})=>{if(!e||!t?.length)return null;let r=t[0],a=m?m(r.value,r.name)[0]:u?u(r.value):r.value;return s.jsx("div",{className:"bg-base-100 shadow-md p-3 border border-base-300 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:r.color}}),(0,s.jsxs)("span",{className:"font-medium",children:[r.name,":"]}),s.jsx("span",{children:a})]})})},{})}),l&&s.jsx(d.D,{})]})})});var b=r(82116);let j=({value:e,min:t=0,max:r=100,className:o="",height:n=300,width:i="100%",colors:l=["#FF5252","#FFBF00","#4CAF50"],thresholds:c=[33,67],innerRadius:u="70%",outerRadius:m="90%",startAngle:h=180,endAngle:p=0,formatter:x=e=>`${e}`,label:N,showLegend:j=!1,legendLabels:y=["Low","Medium","High"]})=>{let E=Math.min(Math.max(e,t),r),S=(E-t)/(r-t)*100,w=0;if(c&&c.length>0)for(let e=0;e<c.length;e++)S>=c[e]&&(w=e+1);let A=[...c.slice(0,c.length-1).map((e,t)=>({name:y[t],value:t,color:l[t]})),{name:y[c.length],value:c.length,color:l[c.length]}];return s.jsx("div",{className:`w-full h-full ${o}`,children:s.jsx(a.h,{width:i,height:n,children:(0,s.jsxs)(f.u,{children:[(0,s.jsxs)(v.b,{data:[{name:"value",value:S},{name:"remainder",value:100-S}],cx:"50%",cy:"50%",startAngle:h,endAngle:p,innerRadius:u,outerRadius:m,dataKey:"value",cornerRadius:0,stroke:"none",children:[s.jsx(g.b,{fill:l[w]},"gauge-cell-0"),s.jsx(g.b,{fill:"#EAEAEA"},"gauge-cell-1")," ",s.jsx(b._,{content:({viewBox:e})=>{let{cx:t,cy:r}=e;return(0,s.jsxs)("g",{children:[s.jsx("text",{x:t,y:r-20,textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold fill-current",children:x(E)}),N&&s.jsx("text",{x:t,y:r+10,textAnchor:"middle",dominantBaseline:"middle",className:"text-sm fill-base-content fill-opacity-60",children:N})]})},position:"center"})]}),j&&s.jsx(d.D,{content:s.jsx(()=>s.jsx("div",{className:"flex justify-center gap-6 mt-4",children:A.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),s.jsx("span",{className:"text-xs",children:e.name})]},`legend-item-${t}`))}),{})})]})})})}},3855:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326);r(17577);let a=({children:e,title:t,subtitle:r,footer:a,className:o="",layout:n="vertical",loading:i=!1,error:l,success:c,...d})=>{let u=[{vertical:"space-y-6",horizontal:"grid grid-cols-12 gap-4",compact:"space-y-3"}[n],i?"opacity-70 pointer-events-none":"",o].filter(Boolean).join(" ");return(0,s.jsxs)("form",{className:u,...d,children:[(t||r)&&(0,s.jsxs)("div",{className:"mb-6",children:[t&&s.jsx("h2",{className:"text-xl font-semibold",children:t}),r&&s.jsx("p",{className:"text-base-content/70 mt-1",children:r})]}),l&&(0,s.jsxs)("div",{className:"alert alert-error mb-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:l})]}),c&&(0,s.jsxs)("div",{className:"alert alert-success mb-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:c})]}),s.jsx("div",{className:"horizontal"===n?"col-span-12":"",children:e}),a&&s.jsx("div",{className:`pt-4 ${"horizontal"===n?"col-span-12":""}`,children:a}),i&&s.jsx("div",{className:"absolute inset-0 bg-base-100 bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"loading loading-spinner loading-lg"})})]})}},71620:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(10326);r(17577);var a=r(74723),o=r(27256),n=r(74064),i=r(81330),l=r(93774);let c=o.z.object({name:o.z.string().min(2,"Name must be at least 2 characters"),email:o.z.string().email("Please enter a valid email address"),country:o.z.string().min(1,"Please select a country"),budget:o.z.number().positive("Budget must be greater than 0").or(o.z.string()),agreement:o.z.boolean().refine(e=>!0===e,{message:"You must agree to the terms"}),employmentStatus:o.z.string().min(1,"Please select an employment status")}),d=[{value:"",label:"Select a country"},{value:"us",label:"United States"},{value:"ca",label:"Canada"},{value:"uk",label:"United Kingdom"},{value:"au",label:"Australia"},{value:"fr",label:"France"},{value:"de",label:"Germany"},{value:"jp",label:"Japan"}],u=[{value:"employed",label:"Employed"},{value:"self-employed",label:"Self-employed"},{value:"unemployed",label:"Unemployed"},{value:"student",label:"Student"},{value:"retired",label:"Retired"}],m=()=>{let{control:e,handleSubmit:t,formState:{errors:r,isSubmitting:o},reset:m}=(0,a.cI)({resolver:(0,n.F)(c),defaultValues:{name:"",email:"",country:"",budget:0,agreement:!1,employmentStatus:""}}),h=async e=>{console.log("Form data submitted:",e),await new Promise(e=>setTimeout(e,1e3)),alert("Form submitted successfully!"),m()};return(0,s.jsxs)(i.l0,{onSubmit:t(h),title:"Personal Information",subtitle:"Please fill out all required fields",loading:o,footer:(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[s.jsx(l.zx,{variant:"ghost",type:"button",onClick:()=>m(),children:"Reset"}),s.jsx(l.zx,{type:"submit",disabled:o,children:o?"Submitting...":"Submit"})]}),children:[s.jsx(i.cw,{label:"Full Name",required:!0,error:r.name?.message,children:s.jsx(a.Qr,{name:"name",control:e,render:({field:e})=>s.jsx(l.II,{placeholder:"Enter your full name",error:r.name?.message,...e})})}),s.jsx(i.cw,{label:"Email Address",required:!0,error:r.email?.message,children:s.jsx(a.Qr,{name:"email",control:e,render:({field:e})=>s.jsx(l.II,{type:"email",placeholder:"your.email@example.com",error:r.email?.message,...e})})}),s.jsx(i.cw,{label:"Country",required:!0,error:r.country?.message,children:s.jsx(a.Qr,{name:"country",control:e,render:({field:e})=>s.jsx(l.Ph,{options:d,error:r.country?.message,...e})})}),s.jsx(i.cw,{label:"Monthly Budget",required:!0,error:r.budget?.message,children:s.jsx(a.Qr,{name:"budget",control:e,render:({field:{onChange:e,value:t,...a}})=>s.jsx(l.LH,{onChange:e,value:t,error:r.budget?.message,placeholder:"Enter your monthly budget",...a})})}),s.jsx(i.cw,{label:"Employment Status",required:!0,error:r.employmentStatus?.message,children:s.jsx(a.Qr,{name:"employmentStatus",control:e,render:({field:{onChange:e,value:t,...a}})=>s.jsx(l.Y8,{options:u,error:r.employmentStatus?.message,onChange:t=>e(t.target.value),value:t,...a})})}),s.jsx(i.cw,{error:r.agreement?.message,children:s.jsx(a.Qr,{name:"agreement",control:e,render:({field:{onChange:e,value:t,...a}})=>s.jsx(l.XZ,{label:"I agree to the terms and conditions",error:r.agreement?.message,checked:t,onChange:t=>e(t.target.checked),...a})})})]})}},37110:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326);r(17577);let a=({children:e,label:t,required:r=!1,optional:a=!1,helpText:o,error:n,className:i="",labelClassName:l="",contentClassName:c="",layout:d="vertical",innerClassName:u="",id:m})=>{let h=[{vertical:"mb-4",horizontal:"grid grid-cols-12 gap-4 items-start mb-4",compact:"mb-2"}[d],i].filter(Boolean).join(" "),g=[{vertical:"block text-sm font-medium mb-1",horizontal:"block text-sm font-medium col-span-3 pt-2",compact:"block text-sm font-medium mb-1"}[d],l].filter(Boolean).join(" "),p=[{vertical:"w-full",horizontal:"col-span-9",compact:"w-full"}[d],c].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:h,children:[t&&(0,s.jsxs)("label",{className:g,htmlFor:m,children:[t,r&&s.jsx("span",{className:"text-error ml-1",children:"*"}),a&&s.jsx("span",{className:"text-base-content/50 text-xs ml-1",children:"(Optional)"})]}),(0,s.jsxs)("div",{className:p,children:[s.jsx("div",{className:u,children:e}),o&&!n&&s.jsx("p",{className:"mt-1 text-xs text-base-content/70",children:o}),n&&s.jsx("p",{className:"mt-1 text-xs text-error",children:n})]})]})}},81330:(e,t,r)=>{"use strict";r.d(t,{Uq:()=>o.default,cw:()=>a.default,l0:()=>s.default});var s=r(3855),a=r(37110),o=r(71620)},20050:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326),a=r(17577),o=r(35047),n=r(92631);let i=({children:e,requireCompleteProfile:t=!1})=>{let r=(0,o.useRouter)(),i=(0,o.usePathname)(),{isComplete:l,isHydrated:c}=(0,n.Un)();return(console.log("[RouteGuard] Initial isComplete:",l,"isHydrated:",c,"Pathname:",i),(0,a.useEffect)(()=>{console.log("[RouteGuard] useEffect triggered. isComplete:",l,"isHydrated:",c,"requireCompleteProfile:",t,"Pathname:",i),c&&t&&!l&&"/profile"!==i&&(console.log("[RouteGuard] Redirecting to /profile because isComplete is false after hydration."),r.push("/profile"))},[r,i,l,t,c]),console.log("[RouteGuard] Evaluating render block. isComplete:",l,"isHydrated:",c,"requireCompleteProfile:",t,"Pathname:",i),c)?t&&!l&&"/profile"!==i?(console.log("[RouteGuard] Rendering redirect message, not children."),s.jsx("div",{className:"container mx-auto py-12",children:s.jsx("div",{className:"alert alert-warning shadow-lg",children:(0,s.jsxs)("div",{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("span",{children:"Profile completion required. Redirecting..."})]})})})):s.jsx(s.Fragment,{children:e}):(console.log("[RouteGuard] Rendering loading/hydration indicator (or null)."),s.jsx("div",{className:"flex flex-col min-h-screen justify-center items-center",children:s.jsx("p",{children:"Loading profile..."})}))}},43122:(e,t,r)=>{"use strict";r.d(t,{e:()=>s.default});var s=r(20050)},37925:(e,t,r)=>{"use strict";r.d(t,{II:()=>s.II,Zb:()=>s.Zb,_z:()=>a._z,wn:()=>o.default,zx:()=>s.zx});var s=r(93774),a=r(98141);r(81330);var o=r(38642);r(43122),r(74310)},78290:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326);r(17577);var a=r(98141),o=r(92631);let n=({children:e})=>{let{sidebarOpen:t}=(0,o.HJ)();return(0,s.jsxs)("div",{className:"min-h-screen flex bg-base-100",children:[s.jsx(a.YE,{}),s.jsx("main",{className:`flex-1 transition-all duration-300 ${t?"ml-64":"ml-20"}`,children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:e})})]})}},3557:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326);r(17577);var a=r(90434),o=r(35408);let n=({items:e,className:t="",hideOnMobile:r=!1})=>((0,o.n)(),0===e.length)?null:s.jsx("div",{className:`${r?"hidden md:block":""} ${t}`,children:s.jsx("div",{className:"text-sm breadcrumbs",children:s.jsx("ul",{children:e.map((e,t)=>{let r=()=>{let t="";return e.active&&(t+=" font-semibold text-primary"),e.disabled&&(t+=" opacity-50 cursor-not-allowed"),t};return e.onClick&&!e.disabled?s.jsx("li",{children:s.jsx("button",{onClick:e.onClick,className:`hover:underline ${r()}`,disabled:e.disabled,children:e.label})},t):e.href&&!e.disabled?s.jsx("li",{children:s.jsx(a.default,{href:e.href,className:`hover:underline ${r()}`,children:e.label})},t):s.jsx("li",{className:r(),children:e.label},t)})})})})},35494:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326);r(17577);let a=({children:e,cols:t=12,gap:r,rowGap:a,colGap:o,className:n=""})=>{let i=`grid-cols-${t}`,l=[];void 0!==r&&l.push(`gap-${r}`),void 0!==a&&l.push(`row-gap-${a}`),void 0!==o&&l.push(`col-gap-${o}`);let c=["grid",i,...l,n].filter(Boolean).join(" ");return s.jsx("div",{className:c,children:e})},o=({children:e,span:t=1,className:r=""})=>{let a="";if("object"==typeof t){let e=[];e.push(`col-span-${t.sm||"full"}`),t.sm&&e.push(`sm:col-span-${t.sm}`),t.md&&e.push(`md:col-span-${t.md}`),t.lg&&e.push(`lg:col-span-${t.lg}`),t.xl&&e.push(`xl:col-span-${t.xl}`),a=e.join(" ")}else a=`col-span-${t}`;let o=[a,r].filter(Boolean).join(" ");return s.jsx("div",{className:o,children:e})},n={Container:a,Item:o,Row:a,Col:o}},24170:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326);r(17577);var a=r(90434),o=r(93774);let n=({title:e="Living Abroad Budget",logo:t,className:r=""})=>s.jsx("div",{className:`navbar bg-base-200 shadow-sm ${r}`,children:(0,s.jsxs)("div",{className:"container mx-auto",children:[s.jsx("div",{className:"flex-1",children:(0,s.jsxs)(a.default,{href:"/",className:"flex items-center",children:[t&&s.jsx("span",{className:"mr-2",children:t}),s.jsx("span",{className:"font-bold text-xl",children:e})]})}),(0,s.jsxs)("div",{className:"flex-none",children:[(0,s.jsxs)("ul",{className:"menu menu-horizontal px-1",children:[s.jsx("li",{children:s.jsx(a.default,{href:"/components",children:"Components"})}),s.jsx("li",{children:s.jsx(a.default,{href:"/scenarios",children:"Scenarios"})}),s.jsx("li",{children:s.jsx(a.default,{href:"/about",children:"About"})})]}),s.jsx(o.Tl,{})]})]})})},17676:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(10326),a=r(17577),o=r(90434),n=r(35408);let i=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),l=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),c=[{path:"/",label:"Home",icon:s.jsx(()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),{})},{path:"/dashboard",label:"Dashboard",icon:s.jsx(()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),{})},{path:"/profile",label:"Profile",icon:s.jsx(()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),{})},{path:"/scenarios",label:"Scenarios",icon:s.jsx(()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),{})}],d=({className:e=""})=>{let{sidebarOpen:t,toggleSidebar:r,setActiveView:d,currentRoute:u,currentSection:m}=(0,n.n)();return(0,a.useEffect)(()=>{d&&"function"==typeof d&&d(m)},[m,d]),(0,s.jsxs)("div",{className:`h-screen bg-base-200 transition-all duration-300 ${t?"w-64":"w-20"} ${e} fixed left-0 top-0 z-10 flex flex-col shadow-lg`,children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[t?s.jsx(o.default,{href:"/",className:"text-xl font-bold",children:"Living Abroad"}):s.jsx(o.default,{href:"/",className:"text-xl font-bold",children:"LAB"}),s.jsx("button",{onClick:r,className:"btn btn-ghost btn-sm","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?s.jsx(i,{}):s.jsx(l,{})})]}),s.jsx("nav",{className:"mt-5 flex-1 px-2",children:s.jsx("ul",{className:"space-y-2",children:c.map(e=>{let r=u===e.path||"/"!==e.path&&u?.startsWith(e.path);return s.jsx("li",{children:(0,s.jsxs)(o.default,{href:e.path,className:`flex items-center rounded-lg p-2 text-base font-normal transition duration-150 ease-in-out hover:bg-base-300 ${r?"bg-primary text-primary-content":"text-base-content"}`,children:[s.jsx("span",{className:"min-w-[24px]",children:e.icon}),t&&s.jsx("span",{className:"ml-3",children:e.label})]})},e.path)})})}),s.jsx("div",{className:"mt-auto p-4",children:t&&s.jsx("div",{className:"text-xs text-base-content/70",children:s.jsx("p",{children:"Living Abroad Budget v0.1"})})})]})}},98141:(e,t,r)=>{"use strict";r.d(t,{aG:()=>n.default,_z:()=>o,YE:()=>s.default}),r(78290);var s=r(17676);r(35494),r(24170);var a=r(10326);r(17577);let o=({title:e,subtitle:t,actions:r,children:s,className:o="",containerClassName:n="",headerClassName:i="",contentClassName:l="",fullWidth:c=!1,noPadding:d=!1})=>{let u=["bg-base-100 min-h-screen",o].filter(Boolean).join(" "),m=[c?"w-full":"container mx-auto",d?"":"px-4 md:px-6",n].filter(Boolean).join(" "),h=["py-6 flex flex-col md:flex-row md:items-center md:justify-between","border-b border-base-300 mb-6",i].filter(Boolean).join(" "),g=["pb-8",l].filter(Boolean).join(" ");return a.jsx("div",{className:u,children:(0,a.jsxs)("div",{className:m,children:[(e||t||r)&&(0,a.jsxs)("header",{className:h,children:[(0,a.jsxs)("div",{children:[e&&a.jsx("h1",{className:"text-2xl font-bold",children:e}),t&&a.jsx("p",{className:"text-base-content/70 mt-1",children:t})]}),r&&a.jsx("div",{className:"mt-4 md:mt-0",children:r})]}),a.jsx("main",{className:g,children:s})]})})};var n=r(3557)},8555:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326);r(17577);let a=({type:e="info",title:t,message:r,onClose:a,showIcon:o=!0,className:n="",titleClassName:i="",messageClassName:l="",isDismissible:c=!1})=>{let d={info:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"h-6 w-6 flex-shrink-0 stroke-current",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),error:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},u=["alert",{info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[e],n].filter(Boolean).join(" "),m=["font-bold",i].filter(Boolean).join(" "),h=["text-sm",l].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:u,role:"alert",children:[o&&d[e],(0,s.jsxs)("div",{children:[t&&s.jsx("h3",{className:m,children:t}),s.jsx("div",{className:h,children:r})]}),c&&a&&s.jsx("button",{onClick:a,className:"btn btn-circle btn-ghost btn-sm","aria-label":"Close alert",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}},99837:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326);r(17577);let a=({variant:e="primary",size:t="md",isLoading:r=!1,isDisabled:a=!1,leftIcon:o,rightIcon:n,fullWidth:i=!1,className:l="",children:c,...d})=>{let u=["btn","primary"!==e?`btn-${e}`:"","md"!==t?`btn-${t}`:"",i?"w-full":"",[r?"loading":"",a?"btn-disabled":""].filter(Boolean).join(" "),l].filter(Boolean).join(" ");return(0,s.jsxs)("button",{className:u,disabled:a||r,...d,children:[o&&s.jsx("span",{className:"mr-2",children:o}),c,n&&s.jsx("span",{className:"ml-2",children:n})]})}},47375:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326);r(17577);let a=({variant:e="default",title:t,subtitle:r,footer:a,headerAction:o,className:n="",bodyClassName:i="",titleClassName:l="",subtitleClassName:c="",footerClassName:d="",children:u})=>{let m=[{default:"card bg-base-100",bordered:"card bg-base-100 border border-base-300",shadow:"card bg-base-100 shadow-lg",compact:"card card-compact bg-base-100",glass:"card glass"}[e],n].filter(Boolean).join(" "),h=["card-body",i].filter(Boolean).join(" "),g=["card-title",l].filter(Boolean).join(" "),p=["text-sm text-base-content/70",c].filter(Boolean).join(" "),x=["card-actions justify-end mt-4",d].filter(Boolean).join(" ");return s.jsx("div",{className:m,children:(0,s.jsxs)("div",{className:h,children:[t&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:g,children:t}),o&&s.jsx("div",{children:o})]}),r&&s.jsx("p",{className:p,children:r}),s.jsx("div",{className:"mt-2",children:u}),a&&s.jsx("div",{className:x,children:a})]})})}},93939:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);let o=r.n(a)().forwardRef(({label:e,helperText:t,error:r,size:a="md",containerClassName:o="",labelClassName:n="",checkboxClassName:i="",helperTextClassName:l="",errorClassName:c="",...d},u)=>{let m=["form-control",o].filter(Boolean).join(" "),h=["checkbox","md"!==a?`checkbox-${a}`:"",r?"checkbox-error":"",i].filter(Boolean).join(" "),g=["flex items-center gap-2",n].filter(Boolean).join(" "),p=["text-sm text-base-content/70 mt-1 ml-7",l].filter(Boolean).join(" "),x=["text-sm text-error mt-1 ml-7",c].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:m,children:[(0,s.jsxs)("label",{className:g,children:[s.jsx("input",{type:"checkbox",className:h,"aria-invalid":r?"true":"false",...d,ref:u}),e&&s.jsx("span",{className:"label-text",children:e})]}),t&&!r&&s.jsx("div",{className:p,children:t}),r&&s.jsx("div",{className:x,role:"alert",children:r})]})});o.displayName="Checkbox";let n=o},28417:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(10326),a=r(17577),o=r.n(a),n=r(89175);let i=o().forwardRef(({value:e,onChange:t,currencySymbol:r="€",decimalPlaces:o=2,allowNegative:i=!1,thousandSeparator:l=",",decimalSeparator:c=".",...d},u)=>{let[m,h]=(0,a.useState)(""),g=(0,a.useCallback)(e=>{if(null==e||""===e)return"";let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"":t.toLocaleString("en-US",{minimumFractionDigits:o,maximumFractionDigits:o,useGrouping:!0}).replace(/,/g,l).replace(/\./g,c)},[o,l,c]),p=e=>{if(!e)return null;let t=e.replace(RegExp(`[^0-9\\${c}\\-]`,"g"),"").replace(RegExp(`\\${l}`,"g"),"").replace(RegExp(`\\${c}`),".");return""===t||"-"===t?null:parseFloat(t)};return(0,a.useEffect)(()=>{void 0!==e&&h(g(e))},[e,g]),s.jsx(n.default,{...d,type:"text",value:m,onChange:e=>{let r=e.target.value;if(!r){h(""),t?.(null);return}if(!RegExp(`^[0-9\\${l}\\${c}${i?"\\-":""}]*$`).test(r))return;h(r);let s=p(r);t?.(s)},onBlur:e=>{let t=p(m);null!==t?h(g(t)):h(""),d.onBlur?.(e)},leftAddon:r,inputMode:"decimal",ref:u})});i.displayName="CurrencyInput";let l=i},89175:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);let o=r.n(a)().forwardRef(({label:e,helperText:t,error:r,size:a="md",variant:o="bordered",leftAddon:n,rightAddon:i,leftIcon:l,rightIcon:c,fullWidth:d=!1,containerClassName:u="",labelClassName:m="",inputClassName:h="",helperTextClassName:g="",errorClassName:p="",currencySymbol:x,isCurrencyInput:f=!1,...v},N)=>{let b=["form-control",d?"w-full":"",u].filter(Boolean).join(" "),j=["label",m].filter(Boolean).join(" "),y=["input-group","md"!==a?`input-group-${a}`:""].filter(Boolean).join(" "),E=["input","default"!==o?`input-${o}`:"","md"!==a?`input-${a}`:"",r?"input-error":"","focus:outline-none",h].filter(Boolean).join(" "),S=["text-sm text-base-content/70 mt-1",g].filter(Boolean).join(" "),w=["text-sm text-error mt-1",p].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:b,children:[e&&s.jsx("label",{className:j,children:s.jsx("span",{className:"label-text",children:e})}),n||i||l||c||f?(0,s.jsxs)("div",{className:y,children:[n&&s.jsx("span",{className:"input-group-addon",children:n}),f&&s.jsx("span",{className:"input-group-addon",children:x||"€"}),(0,s.jsxs)("div",{className:"relative flex-1",children:[l&&s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l}),s.jsx("input",{className:`${E} ${l?"pl-10":""} ${c?"pr-10":""}`,...v,ref:N}),c&&s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c})]}),i&&s.jsx("span",{className:"input-group-addon",children:i})]}):s.jsx("input",{className:E,...v,ref:N}),t&&!r&&s.jsx("div",{className:S,children:t}),r&&s.jsx("div",{className:w,children:r})]})});o.displayName="Input";let n=o},28676:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577),o=r(60962);let n=({isOpen:e,onClose:t,title:r,children:n,footer:i,size:l="md",closeOnEsc:c=!0,closeOnOutsideClick:d=!0,showCloseButton:u=!0,className:m="",contentClassName:h="",titleClassName:g="",footerClassName:p=""})=>{let x=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=document.getElementById("modal-root");return e||((e=document.createElement("div")).setAttribute("id","modal-root"),document.body.appendChild(e)),f.current=e,()=>{e&&0===e.childNodes.length&&e.remove()}},[]),(0,a.useEffect)(()=>{if(!e||!c)return;let r=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,c]),(0,a.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);let v=["modal modal-bottom sm:modal-middle",e?"modal-open":"",m].filter(Boolean).join(" "),N=["modal-box",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[l],h].filter(Boolean).join(" "),b=["font-bold text-lg",g].filter(Boolean).join(" "),j=["modal-action",p].filter(Boolean).join(" ");return e&&f.current?(0,o.createPortal)(s.jsx("div",{className:v,onClick:e=>{d&&x.current&&!x.current.contains(e.target)&&t()},"aria-modal":"true",role:"dialog",children:(0,s.jsxs)("div",{className:N,ref:x,children:[u&&s.jsx("button",{onClick:t,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2","aria-label":"Close modal",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),r&&s.jsx("h3",{className:b,children:r}),s.jsx("div",{className:"py-4",children:n}),i&&s.jsx("div",{className:j,children:i})]})}),f.current):null}},72554:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);let o=r.n(a)().forwardRef(({options:e,label:t,helperText:r,error:a,size:o="md",direction:n="vertical",containerClassName:i="",labelClassName:l="",radioClassName:c="",optionClassName:d="",helperTextClassName:u="",errorClassName:m="",name:h,...g},p)=>{let x=["form-control",i].filter(Boolean).join(" "),f=["label",l].filter(Boolean).join(" "),v=["horizontal"===n?"flex flex-row gap-4":"flex flex-col gap-2","mt-1"].filter(Boolean).join(" "),N=["radio","md"!==o?`radio-${o}`:"",a?"radio-error":"",c].filter(Boolean).join(" "),b=["flex items-center gap-2",d].filter(Boolean).join(" "),j=["text-sm text-base-content/70 mt-1",u].filter(Boolean).join(" "),y=["text-sm text-error mt-1",m].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:x,children:[t&&s.jsx("label",{className:f,children:s.jsx("span",{className:"label-text",children:t})}),s.jsx("div",{className:v,role:"radiogroup",children:e.map((e,t)=>(0,s.jsxs)("label",{className:b,children:[s.jsx("input",{type:"radio",className:N,value:e.value,disabled:e.disabled,name:h,ref:0===t?p:void 0,...g}),s.jsx("span",{className:"label-text",children:e.label})]},e.value))}),r&&!a&&s.jsx("div",{className:j,children:r}),a&&s.jsx("div",{className:y,role:"alert",children:a})]})});o.displayName="Radio";let n=o},2102:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),a=r(17577);let o=r.n(a)().forwardRef(({options:e,label:t,helperText:r,error:a,size:o="md",variant:n="bordered",fullWidth:i=!1,placeholder:l,containerClassName:c="",labelClassName:d="",selectClassName:u="",helperTextClassName:m="",errorClassName:h="",...g},p)=>{let x=["form-control",i?"w-full":"",c].filter(Boolean).join(" "),f=["label",d].filter(Boolean).join(" "),v=["select","default"!==n?`select-${n}`:"","md"!==o?`select-${o}`:"",a?"select-error":"",i?"w-full":"",u].filter(Boolean).join(" "),N=["text-sm text-base-content/70 mt-1",m].filter(Boolean).join(" "),b=["text-sm text-error mt-1",h].filter(Boolean).join(" ");return(0,s.jsxs)("div",{className:x,children:[t&&s.jsx("label",{className:f,children:s.jsx("span",{className:"label-text",children:t})}),(0,s.jsxs)("select",{className:v,...g,ref:p,children:[l&&s.jsx("option",{value:"",disabled:!0,children:l}),e.map(e=>s.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),r&&!a&&s.jsx("div",{className:N,children:r}),a&&s.jsx("div",{className:b,children:a})]})});o.displayName="Select";let n=o},92520:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),a=r(17577);let o=({tabs:e,defaultActiveTab:t,onChange:r,variant:o="bordered",size:n="md",className:i="",tabsClassName:l="",contentClassName:c=""})=>{let[d,u]=(0,a.useState)(t||(e.length>0?e[0].id:"")),m=e=>{u(e),r?.(e)},h=["tab-container",i].filter(Boolean).join(" "),g=["tabs",`tabs-${o}`,"md"!==n?`tabs-${n}`:"",l].filter(Boolean).join(" "),p=["tab-content p-4",c].filter(Boolean).join(" "),x=e.find(e=>e.id===d)?.content;return(0,s.jsxs)("div",{className:h,children:[s.jsx("div",{className:g,children:e.map(e=>s.jsx("button",{onClick:()=>!e.disabled&&m(e.id),className:`tab ${e.id===d?"tab-active":""} ${e.disabled?"tab-disabled":""}`,disabled:e.disabled,type:"button",children:e.label},e.id))}),s.jsx("div",{className:p,children:x})]})}},91131:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),a=r(17577);let o=({className:e=""})=>{let[t,r]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)r(e),document.documentElement.setAttribute("data-theme",e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";r(e),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}},[]),s.jsx("button",{className:`btn btn-ghost ${e}`,onClick:()=>{let e="light"===t?"dark":"light";r(e),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},"aria-label":`Switch to ${"light"===t?"dark":"light"} mode`,children:"light"===t?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})})}},20603:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(10326),a=r(17577),o=r(60962);let n=({type:e="info",title:t,message:r,duration:n=5e3,isVisible:i,onClose:l,position:c="bottom-right",showIcon:d=!0,showProgress:u=!0,className:m="",bodyClassName:h=""})=>{let[g,p]=(0,a.useState)(100),[x,f]=(0,a.useState)(null),v={info:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"h-6 w-6 flex-shrink-0 stroke-current",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),error:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 flex-shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})};(0,a.useEffect)(()=>{let e=document.getElementById("toast-container");return e||((e=document.createElement("div")).setAttribute("id","toast-container"),document.body.appendChild(e)),f(e),()=>{e&&0===e.childNodes.length&&e.remove()}},[]),(0,a.useEffect)(()=>{if(!i||n===1/0)return;let e=Date.now()+n,t=setTimeout(()=>{l()},n);if(u){let r=setInterval(()=>{let t=Math.max(0,Math.max(0,e-Date.now())/n*100);p(t),0===t&&clearInterval(r)},16);return()=>{clearTimeout(t),clearInterval(r)}}return()=>{clearTimeout(t)}},[i,n,l,u]);let N=["toast",{"top-right":"toast-top toast-end","top-left":"toast-top toast-start","bottom-right":"toast-bottom toast-end","bottom-left":"toast-bottom toast-start","top-center":"toast-top","bottom-center":"toast-bottom"}[c],m].filter(Boolean).join(" "),b=["alert",{info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[e],"shadow-lg",h].filter(Boolean).join(" "),j=i?"opacity-100 scale-100":"opacity-0 scale-95";return x?(0,o.createPortal)(s.jsx("div",{className:N,children:(0,s.jsxs)("div",{className:`${b} ${j} transform transition-all duration-300 ease-in-out`,role:"alert",children:[d&&v[e],(0,s.jsxs)("div",{children:[t&&s.jsx("h3",{className:"font-bold",children:t}),s.jsx("div",{className:"text-sm",children:r})]}),s.jsx("button",{onClick:l,className:"btn btn-ghost btn-circle btn-sm","aria-label":"Close notification",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),u&&s.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-base-content opacity-20 w-full",children:s.jsx("div",{className:"h-full bg-base-content opacity-40",style:{width:`${g}%`,transition:"width 0.1s linear"}})})]})}),x):null}},78744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ToastProvider:()=>c,useToast:()=>d});var s=r(10326),a=r(17577),o=r.n(a),n=r(20603);let i=(0,a.createContext)(void 0),l=0,c=({children:e,position:t="bottom-right",maxToasts:r=5})=>{let[c,d]=(0,a.useState)([]),u=(0,a.useCallback)(e=>{d(t=>t.filter(t=>t.id!==e))},[]),m=(0,a.useCallback)(e=>{let t=`toast-${++l}`;return d(s=>{let a=[...s];return a.length>=r&&a.splice(0,a.length-r+1),[...a,{...e,id:t}]}),t},[r]),h=(0,a.useCallback)(()=>{d([])},[]),g=c.reduce((e,r)=>{let s=r.position||t;return e[s]||(e[s]=[]),e[s].push(r),e},{});return(0,s.jsxs)(i.Provider,{value:{addToast:m,removeToast:u,toasts:c,clearToasts:h},children:[e,Object.entries(g).map(([e,t])=>s.jsx(o().Fragment,{children:t.map(t=>s.jsx(n.F,{type:t.type,title:t.title,message:t.message,duration:t.duration,isVisible:!0,onClose:()=>u(t.id),position:e,showIcon:t.showIcon,showProgress:t.showProgress},t.id))},e))]})},d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return{toast:(t,r)=>e.addToast({type:"info",message:t,...r}),info:(t,r)=>e.addToast({type:"info",message:t,...r}),success:(t,r)=>e.addToast({type:"success",message:t,...r}),error:(t,r)=>e.addToast({type:"error",message:t,...r}),warning:(t,r)=>e.addToast({type:"warning",message:t,...r}),dismiss:t=>e.removeToast(t),dismissAll:()=>e.clearToasts()}}},84795:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),a=r(17577);let o=({children:e,content:t,position:r="top",color:o="default",className:n="",contentClassName:i="",showArrow:l=!0,delay:c=300,disabled:d=!1})=>{let[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)({}),p=(0,a.useRef)(null),x=(0,a.useRef)(null),f=(0,a.useRef)(null),v=["tooltip",{top:"tooltip-top",bottom:"tooltip-bottom",left:"tooltip-left",right:"tooltip-right"}[r],{default:"",primary:"tooltip-primary",secondary:"tooltip-secondary",accent:"tooltip-accent",info:"tooltip-info",success:"tooltip-success",warning:"tooltip-warning",error:"tooltip-error"}[o],l?"":"tooltip-no-arrow",n].filter(Boolean).join(" "),N=["tooltip-content",i].filter(Boolean).join(" "),b=(0,a.useCallback)(()=>{if(!p.current||!x.current)return;let e=p.current,t=x.current,s=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=window.innerWidth,n=window.innerHeight,i=0,l=0;switch(r){case"top":i=s.top-a.height-8,l=s.left+s.width/2-a.width/2;break;case"bottom":i=s.bottom+8,l=s.left+s.width/2-a.width/2;break;case"left":i=s.top+s.height/2-a.height/2,l=s.left-a.width-8;break;case"right":i=s.top+s.height/2-a.height/2,l=s.right+8}l<10&&(l=10),l+a.width>o-10&&(l=o-a.width-10),i<10&&(i=10),i+a.height>n-10&&(i=n-a.height-10),g({position:"fixed",top:`${i}px`,left:`${l}px`,zIndex:50})},[r]),j=()=>{d||(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m(!0),setTimeout(b,0)},c))},y=()=>{f.current&&(clearTimeout(f.current),f.current=null),m(!1)};return(0,a.useEffect)(()=>(u&&(window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),b()),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}),[u,b]),(0,a.useEffect)(()=>()=>{f.current&&clearTimeout(f.current)},[]),(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{ref:p,className:v,onMouseEnter:j,onMouseLeave:y,onFocus:j,onBlur:y,children:e}),u&&s.jsx("div",{ref:x,role:"tooltip",className:N,style:h,onMouseEnter:j,onMouseLeave:y,children:t})]})}},93774:(e,t,r)=>{"use strict";r.d(t,{bZ:()=>l.default,zx:()=>s.default,Zb:()=>a.default,XZ:()=>c.default,LH:()=>g.default,II:()=>o.default,u_:()=>i.default,Y8:()=>d.default,Ph:()=>n.default,mQ:()=>u.default,Tl:()=>h.default,VW:()=>p.ToastProvider,u:()=>m.default,Am:()=>x,pm:()=>p.useToast});var s=r(99837),a=r(47375),o=r(89175),n=r(2102),i=r(28676),l=r(8555),c=r(93939),d=r(72554),u=r(92520),m=r(84795),h=r(91131),g=r(28417),p=r(78744);let x=e=>{let{title:t,description:r,type:s="info",duration:a}=e;return console.log(`[Toast - ${s}] ${t||""}: ${r}`),"toast-1"}},35408:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var s=r(35047),a=r(92631),o=r(17577);function n(){let e=(0,s.useRouter)(),t=(0,s.usePathname)(),{activeView:r,setActiveView:n,sidebarOpen:i,toggleSidebar:l}=(0,a.HJ)(),c=(0,o.useMemo)(()=>{let e={};if(t?.startsWith("/scenarios/")&&"/scenarios/create"!==t){let r=t.split("/").pop();r&&(e.scenarioId=r)}return e},[t]),d=(0,o.useMemo)(()=>t&&t.split("/")[1]||"home",[t]);return{activeView:r,setActiveView:n,sidebarOpen:i,toggleSidebar:l,currentRoute:t||"/",currentSection:d,routeParams:c,navigateTo:t=>{e.push(t)},goBack:()=>{e.back()}}}r(8342),r(88211)},52031:(e,t,r)=>{"use strict";r.d(t,{StoreProvider:()=>o});var s=r(10326);r(17577);var a=r(8342);function o({children:e}){return(0,a.o)(),s.jsx(s.Fragment,{children:e})}},92631:(e,t,r)=>{"use strict";r.d(t,{HJ:()=>i,J7:()=>c,Th:()=>o,Un:()=>a,rz:()=>l,tF:()=>d});var s=r(8342);r(17577);let a=()=>{let e=(0,s.o)(e=>e.profile);return{household:e.household,isComplete:e.isComplete,activeCountry:e.activeCountry,isHydrated:e.isHydrated,setHousehold:e.setHousehold,updateHousehold:e.updateHousehold,updateHouseholdMembers:e.updateHouseholdMembers,clearHousehold:e.clearHousehold,setActiveCountry:e.setActiveCountry,setHydrated:e.setHydrated}},o=()=>(0,s.o)(e=>({scenarios:e.scenarios,activeScenarioId:e.activeScenarioId,activeScenario:e.activeScenario,scenarioList:e.scenarioList,isLoading:e.isLoading,error:e.error,storageStats:e.storageStats,loadScenarios:e.loadScenarios,setActiveScenarioId:e.setActiveScenarioId,createScenario:e.createScenario,updateScenario:e.updateScenario,deleteScenario:e.deleteScenario,duplicateScenario:e.duplicateScenario,exportScenarios:e.exportScenarios,importScenarios:e.importScenarios,createTemplateScenario:e.createTemplateScenario,refreshStorageStats:e.refreshStorageStats,scheduleAutoSave:e.scheduleAutoSave,fromActiveScenario:e.fromActiveScenario})),n=()=>(0,s.o)(e=>({activeView:e.ui.activeView,sidebarOpen:e.ui.sidebarOpen,theme:e.ui.theme,setActiveView:e.ui.setActiveView,toggleSidebar:e.ui.toggleSidebar,setTheme:e.ui.setTheme})),i=()=>{let e=n();return{activeView:e.activeView,sidebarOpen:e.sidebarOpen,setActiveView:e.setActiveView,toggleSidebar:e.toggleSidebar}},l=o,c=n,d=()=>(0,s.o)(e=>e.profile.household)},8342:(e,t,r)=>{"use strict";r.d(t,{o:()=>eu});var s,a,o,n,i=r(60114),l=r(85251),c=r(41985),d=r(22665);let u={household:null,isComplete:!1,activeCountry:null,isHydrated:!1},m=(e,t)=>({...u,setHousehold:r=>{console.error("[profileSlice.ts] ***** setHousehold CALLED with:",r),e(e=>({...e,profile:{...e.profile,household:r,isComplete:!!r&&r.members.length>0,activeCountry:e.profile.activeCountry}})),console.log("[profileSlice.ts] setHousehold - new isComplete:",t().profile.isComplete)},updateHousehold:r=>{console.error("[profileSlice.ts] ***** updateHousehold CALLED with updates:",r),e(e=>{let t=e.profile.household?{...e.profile.household,...r}:r;return{...e,profile:{...e.profile,household:t,isComplete:!!t&&!!t.members&&t.members.length>0,activeCountry:e.profile.activeCountry}}}),console.log("[profileSlice.ts] updateHousehold - new isComplete:",t().profile.isComplete)},updateHouseholdMembers:r=>{console.error("[profileSlice.ts] ***** updateHouseholdMembers CALLED with members:",r),e(e=>{let t;let s=r.map(e=>{let t=["",""];"string"==typeof e.firstName?t=[e.firstName,e.lastName||""]:e.hasOwnProperty("name")&&"string"==typeof e.name&&(t=(e.name||"").split(" "));let r=t[0]||"",s=t.slice(1).join(" ")||"";return{id:e.id||(0,d.Z)(),firstName:r,lastName:s,dateOfBirth:e.dateOfBirth||new Date,relationship:e.relationship||c.S9.OTHER,isDependent:e.relationship===c.S9.CHILD}}),a=e.profile.household;return t=a?{...a,members:s,size:s.length,dependents:s.filter(e=>e.isDependent).length,updatedAt:new Date}:{id:(0,d.Z)(),members:s,originCountry:"",destinationCountry:"",residencyStatus:"",taxRegime:"",size:s.length,dependents:s.filter(e=>e.isDependent).length,createdAt:new Date,updatedAt:new Date},{...e,profile:{...e.profile,household:t,isComplete:t.members.length>0,activeCountry:e.profile.activeCountry}}}),console.log("[profileSlice.ts] updateHouseholdMembers - new isComplete:",t().profile.isComplete)},clearHousehold:()=>{console.error("[profileSlice.ts] ***** clearHousehold CALLED"),e(e=>({...e,profile:{...e.profile,household:null,isComplete:!1,activeCountry:null}}))},setActiveCountry:t=>e(e=>({...e,profile:{...e.profile,activeCountry:t}})),setHydrated:()=>{console.log("[profileSlice.ts] setHydrated called. Setting isHydrated to true."),e(e=>({...e,profile:{...e.profile,isHydrated:!0}})),console.log("[profileSlice.ts] isHydrated is now:",t().profile.isHydrated)}});var h=r(19788),g=r.n(h),p=r(19782);let x="scenarios",f=(e,t=x)=>`lab:${t}:${e}`,v=()=>{try{let e="lab:test";localStorage.setItem(e,"test");let t=localStorage.getItem(e);return localStorage.removeItem(e),"test"===t}catch(e){return!1}},N=(e,t=x)=>{if(!v())return{success:!1,error:"LocalStorage is not available in this environment"};try{let r=localStorage.getItem(f(e,t));if(!r)return{success:!1,error:`No data found for key: ${e}`};let s=JSON.parse(r);return{success:!0,data:s}}catch(t){return{success:!1,error:`Error retrieving data for key ${e}: ${t instanceof Error?t.message:String(t)}`}}},b=e=>2*JSON.stringify(e).length,j=()=>{if(!v())return{success:!1,error:"LocalStorage is not available in this environment"};try{let e=0;for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);if(r){let t=localStorage.getItem(r);t&&(e+=2*r.length+2*t.length)}}return{success:!0,data:{used:e,available:5242880-e,total:5242880,usagePercentage:e/5242880*100}}}catch(e){return{success:!1,error:`Error calculating storage stats: ${e instanceof Error?e.message:String(e)}`}}},y=e=>{if(!v())return{success:!1,error:"LocalStorage is not available in this environment"};try{let t=b(e),r=j();if(!r.success||!r.data)return{success:!1,error:r.error||"Failed to get storage stats"};let{available:s}=r.data;if(t>s)return{success:!1,error:`Not enough storage space. Needed: ${t} bytes, Available: ${s} bytes`};return{success:!0}}catch(e){return{success:!1,error:`Error checking storage space: ${e instanceof Error?e.message:String(e)}`}}},E=(e,t,r=x)=>{if(!v())return{success:!1,error:"LocalStorage is not available in this environment"};try{let s=f(e,r),a=localStorage.getItem(s);if(a){let e=2*a.length,r=b(t);if(r>e){let t=j();if(!t.success||!t.data)return{success:!1,error:t.error||"Failed to get storage stats"};let{available:s}=t.data,a=r-e;if(a>s)return{success:!1,error:`Not enough storage space. Additional needed: ${a} bytes, Available: ${s} bytes`}}}else{let e=y(t);if(!e.success)return e}return localStorage.setItem(s,JSON.stringify(t)),{success:!0}}catch(t){if(t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name))return{success:!1,error:"LocalStorage quota exceeded. Try removing some items before adding new ones."};return{success:!1,error:`Error storing data for key ${e}: ${t instanceof Error?t.message:String(t)}`}}},S=(e,t=x)=>{if(!v())return{success:!1,error:"LocalStorage is not available in this environment"};try{return localStorage.removeItem(f(e,t)),{success:!0}}catch(t){return{success:!1,error:`Error removing data for key ${e}: ${t instanceof Error?t.message:String(t)}`}}},w=(e=x)=>{if(console.log(`storageUtils: getStorageKeys for namespace '${e}'`),!v())return console.error("storageUtils: localStorage is not available"),{success:!1,error:"LocalStorage is not available in this environment"};try{let t=[],r=`lab:${e}:`;console.log(`storageUtils: looking for keys with prefix '${r}'`),console.log("storageUtils: all keys in localStorage:");for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);console.log(`  - ${t}`)}for(let e=0;e<localStorage.length;e++){let s=localStorage.key(e);if(s&&s.startsWith(r)){let e=s.substring(r.length);t.push(e)}}return console.log(`storageUtils: found ${t.length} keys for namespace '${e}':`,t),{success:!0,data:t}}catch(e){return console.error("storageUtils: error in getStorageKeys",e),{success:!1,error:`Error getting storage keys: ${e instanceof Error?e.message:String(e)}`}}};var A=r(58914),L=r(6882),R=r(38700);let T=e=>e&&e.household&&Object.keys(e.household).length>0?"complete":"draft";var I=r(88211),C=r(7539);(function(e){e.ELECTRICITY="ELECTRICITY",e.GAS="GAS",e.WATER="WATER",e.SEWAGE="SEWAGE",e.INTERNET="INTERNET",e.MOBILE="MOBILE",e.LANDLINE="LANDLINE",e.TV="TV",e.STREAMING="STREAMING",e.TRASH="TRASH",e.RECYCLING="RECYCLING",e.OTHER="OTHER"})(s||(s={})),function(e){e.FIXED="FIXED",e.VARIABLE="VARIABLE",e.PREPAID="PREPAID",e.PAY_AS_YOU_GO="PAY_AS_YOU_GO"}(a||(a={})),function(e){e.DINING="DINING",e.ENTERTAINMENT="ENTERTAINMENT",e.SHOPPING="SHOPPING",e.FITNESS="FITNESS",e.HOBBIES="HOBBIES",e.TRAVEL="TRAVEL",e.PERSONAL_CARE="PERSONAL_CARE",e.PETS="PETS",e.GIFTS="GIFTS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.OTHER="OTHER"}(o||(o={})),function(e){e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.QUARTERLY="QUARTERLY",e.ANNUALLY="ANNUALLY",e.OCCASIONAL="OCCASIONAL"}(n||(n={}));let k={id:"default-household",members:[],originCountry:I.Cv.GB,destinationCountry:I.Cv.PT,residencyStatus:I.DL.PERMANENT_RESIDENT,taxRegime:I.LT.STANDARD,size:1,dependents:0,createdAt:new Date,updatedAt:new Date},D={[I.NE.EUR]:{baseCurrency:I.NE.EUR,displayCurrency:I.NE.EUR,manualRates:!1,customRates:{},sensitivityRange:[-.05,.05]},[I.NE.USD]:{baseCurrency:I.NE.USD,displayCurrency:I.NE.USD,manualRates:!1,customRates:{},sensitivityRange:[-.05,.05]},[I.NE.GBP]:{baseCurrency:I.NE.GBP,displayCurrency:I.NE.GBP,manualRates:!1,customRates:{},sensitivityRange:[-.05,.05]}},P={line1:"",city:"",country:I.Cv.US,postalCode:""},O=[{id:(0,d.Z)(),name:"Primary Job",type:C.Rp.EMPLOYMENT,partner:"partner1",amount:{amount:5e4,currency:I.NE.USD},frequency:I.oF.ANNUALLY,isActive:!0,startDate:new Date,taxable:!0,description:"Main employment income",createdAt:new Date,updatedAt:new Date}],B={id:(0,d.Z)(),type:A.Rj.RENT,address:{...P,country:I.Cv.PT},mainCost:{amount:1500,currency:I.NE.EUR,frequency:I.oF.MONTHLY},furnished:!1,bedrooms:2,bathrooms:1,createdAt:new Date,updatedAt:new Date},F={id:(0,d.Z)(),type:A.Rj.OWN,address:{...P,country:I.Cv.PT},mainCost:{amount:1077,currency:I.NE.EUR,frequency:I.oF.MONTHLY},propertyTax:{amount:3e3,currency:I.NE.EUR,frequency:I.oF.ANNUALLY},furnished:!0,bedrooms:3,bathrooms:2,createdAt:new Date,updatedAt:new Date},$={[A.Rj.RENT]:B,[A.Rj.OWN]:F,[A.Rj.TEMPORARY]:{id:(0,d.Z)(),type:A.Rj.TEMPORARY,address:{...P,country:I.Cv.PT},mainCost:{amount:100,currency:I.NE.EUR,frequency:I.oF.ONCE},furnished:!0,bedrooms:1,bathrooms:1,createdAt:new Date,updatedAt:new Date}},H={id:(0,d.Z)(),type:L.F.PRIVATE_CAR,vehicle:{make:"Toyota",model:"Camry",year:2022,isElectric:!1},mainCost:{amount:0,currency:I.NE.USD,frequency:I.oF.MONTHLY},fuel:{amount:150,currency:I.NE.USD,frequency:I.oF.MONTHLY},insurance:{id:(0,d.Z)(),provider:"Default Insurance",cost:{amount:100,currency:I.NE.USD,frequency:I.oF.MONTHLY},coverage:{amount:5e4,currency:I.NE.USD},startDate:new Date,isComprehensive:!0},maintenance:{amount:50,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!0,createdAt:new Date,updatedAt:new Date},M={id:(0,d.Z)(),type:L.F.PUBLIC,mainCost:{amount:80,currency:I.NE.USD,frequency:I.oF.MONTHLY},passType:L.G.MONTHLY,zones:["All"],isCommute:!0,createdAt:new Date,updatedAt:new Date},U={[L.F.PRIVATE_CAR]:H,[L.F.PUBLIC]:M,[L.F.LEASED_CAR]:{...H,type:L.F.LEASED_CAR,mainCost:{amount:300,currency:I.NE.USD,frequency:I.oF.MONTHLY}},[L.F.TAXI]:{id:(0,d.Z)(),type:L.F.TAXI,mainCost:{amount:50,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!1,createdAt:new Date,updatedAt:new Date},[L.F.RIDESHARE]:{id:(0,d.Z)(),type:L.F.RIDESHARE,mainCost:{amount:60,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!1,createdAt:new Date,updatedAt:new Date},[L.F.BICYCLE]:{id:(0,d.Z)(),type:L.F.BICYCLE,mainCost:{amount:0,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!0,createdAt:new Date,updatedAt:new Date},[L.F.WALKING]:{id:(0,d.Z)(),type:L.F.WALKING,mainCost:{amount:0,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!0,createdAt:new Date,updatedAt:new Date},[L.F.OTHER]:{id:(0,d.Z)(),type:L.F.OTHER,mainCost:{amount:0,currency:I.NE.USD,frequency:I.oF.MONTHLY},isCommute:!1,createdAt:new Date,updatedAt:new Date}},Y={[s.ELECTRICITY]:{id:(0,d.Z)(),type:s.ELECTRICITY,provider:"Default Electric Co.",planType:a.FIXED,baseCost:{amount:100,currency:I.NE.USD,frequency:I.oF.MONTHLY},included:!1,notes:"Based on average usage",createdAt:new Date,updatedAt:new Date},[s.INTERNET]:{id:(0,d.Z)(),type:s.INTERNET,provider:"Default ISP",planType:a.FIXED,baseCost:{amount:60,currency:I.NE.USD,frequency:I.oF.MONTHLY},included:!1,createdAt:new Date,updatedAt:new Date}},G=[{id:(0,d.Z)(),category:o.DINING,description:"Dining Out",amount:{amount:200,currency:I.NE.USD,frequency:I.oF.MONTHLY},priority:"optional",shared:!0,notes:"Restaurants and takeaways",createdAt:new Date,updatedAt:new Date},{id:(0,d.Z)(),category:o.SHOPPING,description:"Groceries",amount:{amount:400,currency:I.NE.USD,frequency:I.oF.MONTHLY},priority:"essential",shared:!0,notes:"Weekly grocery shopping",createdAt:new Date,updatedAt:new Date}],z={id:(0,d.Z)(),targetMonths:3,currentBalance:{amount:5e3,currency:I.NE.USD},monthlyContribution:{amount:200,currency:I.NE.USD},minimumBalance:{amount:1e3,currency:I.NE.USD},location:"Savings Account",isLiquid:!0,notes:"Emergency savings fund",createdAt:new Date,updatedAt:new Date},W="scenarios",V=e=>{let{id:t,name:r,description:s,content:a,createdAt:o,updatedAt:n}=e;return{id:t,name:r,description:s,createdAt:o.toISOString(),updatedAt:n.toISOString(),content:a,schemaVersion:p.O}},_=e=>{let{id:t,name:r,description:s,content:a,createdAt:o,updatedAt:n}=e;return{id:t,name:r,description:s,content:a,createdAt:new Date(o),updatedAt:new Date(n)}},K=(e,t)=>`${e} to ${t} - ${new Date().toLocaleDateString()}`,q=e=>{try{let t=new Date,r={...e.content,schemaVersion:p.O,completionStatus:"draft"};r.completionStatus=T(r);let s={id:(0,d.Z)(),name:e.name,description:e.description,content:r,createdAt:t,updatedAt:t},a=V(s),o=E(s.id,a,W);if(!o.success)return{success:!1,error:o.error};return{success:!0,data:s}}catch(e){return{success:!1,error:`Error creating scenario: ${e instanceof Error?e.message:String(e)}`}}},Z=e=>{try{let t=N(e,W);if(!t.success||!t.data)return{success:!1,error:t.error||`Scenario with ID ${e} not found`};let r=t.data;return r.schemaVersion,p.O,{success:!0,data:_(r)}}catch(e){return{success:!1,error:`Error retrieving scenario: ${e instanceof Error?e.message:String(e)}`}}},J=(e,t)=>{try{let r=Z(e);if(!r.success||!r.data)return{success:!1,error:r.error||`Scenario with ID ${e} not found`};let s=r.data,a=s.content;t.content&&(a={...s.content,...t.content,schemaVersion:p.O}),a.completionStatus=T(a);let o={...s,name:void 0!==t.name?t.name:s.name,description:void 0!==t.description?t.description:s.description,content:a,updatedAt:new Date},n=V(o),i=E(e,n,W);if(!i.success)return{success:!1,error:i.error};return{success:!0,data:o}}catch(e){return{success:!1,error:`Error updating scenario: ${e instanceof Error?e.message:String(e)}`}}},X=e=>{try{let t=S(e,W);if(!t.success)return{success:!1,error:t.error};return{success:!0}}catch(e){return{success:!1,error:`Error deleting scenario: ${e instanceof Error?e.message:String(e)}`}}},Q=()=>{console.log("scenarioStorage: listScenarios called");try{let e=w(W);if(console.log("scenarioStorage: getStorageKeys result:",e),!e.success||!e.data)return console.error("scenarioStorage: failed to get keys",e.error),{success:!1,error:e.error||"Failed to get scenario keys"};let t={};for(let r of(console.log("scenarioStorage: found keys:",e.data),e.data)){console.log(`scenarioStorage: getting scenario ${r}`);let e=Z(r);e.success&&e.data?t[r]=e.data:console.warn(`scenarioStorage: failed to get scenario ${r}`,e.error)}return console.log("scenarioStorage: returning map with",Object.keys(t).length,"scenarios"),{success:!0,data:t}}catch(e){return console.error("scenarioStorage: error in listScenarios",e),{success:!1,error:`Error listing scenarios: ${e instanceof Error?e.message:String(e)}`}}},ee=(e,t)=>{try{let r=Z(e);if(!r.success||!r.data)return{success:!1,error:r.error};let s=r.data,a=new Date,o={...s.content};o.completionStatus=T(o);let n={...s,id:(0,d.Z)(),name:t||`${s.name} (Copy)`,content:o,createdAt:a,updatedAt:a},i=V(n),l=E(n.id,i,W);if(!l.success)return{success:!1,error:l.error};return{success:!0,data:n}}catch(e){return{success:!1,error:`Error duplicating scenario: ${e instanceof Error?e.message:String(e)}`}}},et=()=>{try{let e=Q(),t=j();if(!e.success||!e.data)return{success:!1,error:e.error||"Failed to get scenarios"};if(!t.success||!t.data)return{success:!1,error:t.error||"Failed to get storage stats"};let r=e.data,s=t.data,a=0;for(let e in r){let t=r[e],s=V(t);a+=b(s)}return{success:!0,data:{totalScenarios:Object.keys(r).length,totalSize:a,remainingSpace:s.available,usagePercentage:a/5242880*100,estimatedCapacity:Math.floor(5242880/(a/Object.keys(r).length||1))}}}catch(e){return{success:!1,error:`Error getting scenario storage stats: ${e instanceof Error?e.message:String(e)}`}}},er=()=>{try{let e=Q();if(!e.success||!e.data)return{success:!1,error:e.error||"Failed to get scenarios"};let t=e.data,r=Object.values(t).map(e=>V(e));return{success:!0,data:JSON.stringify(r,null,2)}}catch(e){return{success:!1,error:`Error exporting scenarios: ${e instanceof Error?e.message:String(e)}`}}},es=(e,t=!1)=>{try{let r=JSON.parse(e),s=[];if(r.scenarios?s=r.scenarios:r.scenarioMap&&(s=Object.values(r.scenarioMap)),0===s.length)return{success:!1,error:"No scenarios found in the imported JSON data."};let a={},o=[],n=w(W),i=[];for(let e of(n.success&&n.data&&(i=n.data),s)){if(!e.id||!e.content){o.push(`Skipping item due to missing id or content: ${JSON.stringify(e)}`);continue}if(!t&&i.includes(e.id)){o.push(`Skipping existing scenario ID (overwrite is false): ${e.id}`);continue}let r=e.content;void 0===r.completionStatus&&(r.completionStatus="draft"),r.completionStatus=T(r);let s={...e,content:r,schemaVersion:p.O,createdAt:e.createdAt?new Date(e.createdAt).toISOString():new Date().toISOString(),updatedAt:e.updatedAt?new Date(e.updatedAt).toISOString():new Date().toISOString()},n=E(s.id,s,W);n.success?a[s.id]=_(s):o.push(`Failed to save scenario ${s.id}: ${n.error}`)}if(0===Object.keys(a).length&&o.length>0)return{success:!1,error:`Import failed. Errors: ${o.join("; ")}`};return{success:!0,data:a,error:o.length>0?`Partial import with errors: ${o.join("; ")}`:void 0}}catch(e){return{success:!1,error:`Error importing scenarios: ${e instanceof Error?e.message:String(e)}`}}},ea=(e,t,r)=>{console.log("scenarioStorage: createTemplateScenario called",{name:e,originCountry:t,destinationCountry:r});try{let s=new Date,a=e||K(t,r),o={schemaVersion:p.O,originCountry:t,destinationCountry:r,household:{...k},incomeSources:[...O],housingType:A.Rj.RENT,housingExpense:{...$[A.Rj.RENT]},educationExpenses:{},healthcareType:R._.PUBLIC,healthcareExpenses:{},transportType:L.F.PUBLIC,transportExpense:{...U[L.F.PUBLIC]},lifestyleExpenses:[...G],utilityExpenses:{...Y},emergencyFund:{...z},fxSettings:D[r]||D.EUR,completionStatus:"draft"};o.completionStatus=T(o);let n={id:(0,d.Z)(),name:a,description:`Template for ${r} from ${t}`,content:o,createdAt:s,updatedAt:s},i=V(n),l=E(n.id,i,W);if(!l.success)return console.error("scenarioStorage: failed to save template scenario",l.error),{success:!1,error:l.error};return console.log("scenarioStorage: template scenario saved successfully",n.id),{success:!0,data:n}}catch(e){return console.error("scenarioStorage: error creating template scenario",e),{success:!1,error:`Error creating template scenario: ${e instanceof Error?e.message:String(e)}`}}},eo=(e,t)=>{let r=g()(async(t,r)=>{let s=await J(t,r);s.success&&s.data?e(e=>({...e,scenarios:{...e.scenarios,[t]:s.data},error:null})):(console.error("Auto-save failed:",s.error),e(e=>({...e,error:`Auto-save failed: ${s.error}`})))},2e3,{maxWait:5e3});return{scenarios:{},activeScenarioId:null,isLoading:!1,error:null,storageStats:null,get activeScenario(){let e=t();if(!e)return null;let r=e.scenarios||{},s=e.activeScenarioId;return s&&r[s]||null},get scenarioList(){let e=t();if(!e||!e.scenarios)return[];return Object.values(e.scenarios||{}).map(e=>({id:e.id,name:e.name,description:e.description,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),originCountry:e.content.originCountry,destinationCountry:e.content.destinationCountry,completionStatus:e.content.completionStatus||"draft"})).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())},loadScenarios:()=>{console.log("scenarioSlice: loadScenarios called"),e(e=>({...e,isLoading:!0,error:null}));try{console.log("scenarioSlice: calling listScenariosStorage");let t=Q();if(console.log("scenarioSlice: listScenariosStorage result:",t),t.success&&t.data){console.log("scenarioSlice: setting scenarios data",Object.keys(t.data).length);let r=t.data||{};console.log("scenarioSlice: scenarios data to set:",r);try{e(e=>({...e,scenarios:r,isLoading:!1,error:null})),console.log("scenarioSlice: successfully set scenarios data");try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("scenarioSlice: error while getting storage stats:",e)}}catch(t){console.error("scenarioSlice: error while setting scenarios data:",t),e(e=>({...e,isLoading:!1,error:`Error setting scenarios data: ${t instanceof Error?t.message:String(t)}`}))}}else console.error("scenarioSlice: failed to load scenarios",t.error),e(e=>({...e,isLoading:!1,error:t.error||"Failed to load scenarios"}))}catch(t){console.error("scenarioSlice: error in loadScenarios",t),e(e=>({...e,isLoading:!1,error:`Error loading scenarios: ${t instanceof Error?t.message:String(t)}`}))}},setActiveScenarioId:t=>{e(e=>({...e,activeScenarioId:t}))},createScenario:async t=>{e(e=>({...e,isLoading:!0,error:null}));try{console.log("Input for createScenario:",JSON.stringify(t,null,2));let r={...t},s=await q(r);if(!s.success||!s.data)return e(e=>({...e,isLoading:!1,error:s.error||"Failed to create scenario"})),null;{let t=s.data;e(e=>({...e,scenarios:{...e.scenarios,[t.id]:t},activeScenarioId:t.id,isLoading:!1}));try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return t.id}}catch(t){return console.error("Error in createScenario:",t),e(e=>({...e,isLoading:!1,error:`Error creating scenario: ${t instanceof Error?t.message:String(t)}`})),null}},updateScenario:async(t,r)=>{e(e=>({...e,isLoading:!0,error:null}));try{let s=await J(t,r);if(!s.success||!s.data)return e(e=>({...e,isLoading:!1,error:s.error||`Failed to update scenario ${t}`})),!1;e(e=>({...e,scenarios:{...e.scenarios,[t]:s.data},isLoading:!1}));try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return!0}catch(t){return e(e=>({...e,isLoading:!1,error:`Error updating scenario: ${t instanceof Error?t.message:String(t)}`})),!1}},deleteScenario:async t=>{e(e=>({...e,isLoading:!0,error:null}));try{let r=await X(t);if(!r.success)return e(e=>({...e,isLoading:!1,error:r.error||`Failed to delete scenario ${t}`})),!1;e(e=>{let{[t]:r,...s}=e.scenarios,a=e.activeScenarioId===t?null:e.activeScenarioId;return{...e,scenarios:s,activeScenarioId:a,isLoading:!1}});try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return!0}catch(t){return e(e=>({...e,isLoading:!1,error:`Error deleting scenario: ${t instanceof Error?t.message:String(t)}`})),!1}},duplicateScenario:async(t,r)=>{e(e=>({...e,isLoading:!0,error:null}));try{let s=await ee(t,r);if(!s.success||!s.data)return e(e=>({...e,isLoading:!1,error:s.error||`Failed to duplicate scenario ${t}`})),null;{let t=s.data;e(e=>({...e,scenarios:{...e.scenarios,[t.id]:t},isLoading:!1}));try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return t.id}}catch(t){return e(e=>({...e,isLoading:!1,error:`Error duplicating scenario: ${t instanceof Error?t.message:String(t)}`})),null}},exportScenarios:async()=>{e(e=>({...e,isLoading:!0,error:null}));try{let t=await er();if(t.success&&t.data)return e(e=>({...e,isLoading:!1})),t.data;return e(e=>({...e,isLoading:!1,error:t.error||"Failed to export scenarios"})),null}catch(t){return e(e=>({...e,isLoading:!1,error:`Error exporting scenarios: ${t instanceof Error?t.message:String(t)}`})),null}},importScenarios:async(t,r=!1)=>{e(e=>({...e,isLoading:!0,error:null}));try{let s=await es(t,r);if(!s.success||!s.data)return e(e=>({...e,isLoading:!1,error:s.error||"Failed to import scenarios"})),!1;e(e=>({...e,scenarios:{...e.scenarios,...s.data},isLoading:!1}));try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return!0}catch(t){return e(e=>({...e,isLoading:!1,error:`Error importing scenarios: ${t instanceof Error?t.message:String(t)}`})),!1}},createTemplateScenario:async(t,r,s)=>{e(e=>({...e,isLoading:!0,error:null}));try{let a=t||K(r,s),o=await ea(a,r,s);if(!o.success||!o.data)return e(e=>({...e,isLoading:!1,error:o.error||"Failed to create template scenario"})),null;{let t=o.data;e(e=>({...e,scenarios:{...e.scenarios,[t.id]:t},activeScenarioId:t.id,isLoading:!1}));try{let t=et();t.success&&t.data&&e(e=>({...e,storageStats:t.data}))}catch(e){console.error("Error updating storage stats:",e)}return t.id}}catch(t){return e(e=>({...e,isLoading:!1,error:`Error creating template scenario: ${t instanceof Error?t.message:String(t)}`})),null}},refreshStorageStats:()=>{try{if(!t()){console.warn("Cannot refresh storage stats: store not fully initialized");return}let r=et();r.success&&r.data?e(e=>({...e,storageStats:r.data})):console.warn("Failed to get storage stats:",r.error)}catch(e){console.error("Error refreshing storage stats:",e)}},scheduleAutoSave:(e,t)=>{r(e,t)},fromActiveScenario:e=>{let r=t().activeScenario;return r?.content?.[e]}}},en=async(e=I.NE.USD)=>{try{let t=`/api/fx/latest?base=${e}`,r=await fetch(t);if(!r.ok){let e=await r.json();throw Error(`Exchange rates API error: ${e.error||r.statusText}`)}return await r.json()}catch(e){throw console.error("Error fetching latest exchange rates:",e),e}},ei={baseCurrency:I.NE.USD,displayCurrency:I.NE.USD,manualRates:!1,customRates:{},sensitivityRange:[-.1,.1]},el=(e,t)=>{let r={settings:ei,rates:{},isLoading:!1,error:null,lastUpdated:null,loadInitialFXData:async()=>{e(e=>({...e,fx:{...e.fx,isLoading:!0,error:null}}));try{let r=t().fx.settings?.baseCurrency||I.NE.USD,s=await en(r);if(s&&s.rates)e(e=>({...e,fx:{...e.fx,rates:s.rates,isLoading:!1,lastUpdated:new Date(1e3*s.timestamp),error:null}}));else throw Error("Invalid API response structure for FX rates")}catch(r){console.error("Error in loadInitialFXData:",r);let t=r instanceof Error?r.message:"Failed to load exchange rates";e(e=>({...e,fx:{...e.fx,isLoading:!1,error:Error(t),rates:{}}}))}},updateFXSettings:r=>{e(e=>({...e,fx:{...e.fx,settings:{...t().fx.settings||ei,...r}}}))},addExchangeRate:r=>{console.log("[fxSlice.ts] addExchangeRate called (Original Implementation) with:",r);let s=t().fx.settings?.baseCurrency||I.NE.USD,a=null,o=null;if(r.fromCurrency===s)a=r.toCurrency,o=r.rate;else if(r.toCurrency===s){if(a=r.fromCurrency,0===r.rate){console.error("[fxSlice.ts] addExchangeRate: Cannot add exchange rate with a zero inverse rate.");return}o=1/r.rate}else{console.warn(`[fxSlice.ts] addExchangeRate: Rate ${r.fromCurrency}-${r.toCurrency} is not against the base currency ${s}. Ignoring.`);return}a&&null!==o?e(e=>({...e,fx:{...e.fx,rates:{...e.fx.rates||{},[a]:o},lastUpdated:new Date}})):console.warn("[fxSlice.ts] addExchangeRate: targetCurrencyCode or rateToBase was null. No update performed.")},updateExchangeRate:(t,r)=>{console.log("[fxSlice.ts] updateExchangeRate called (Original Implementation) for:",t,"with rate:",r),"number"==typeof r.rate?e(e=>e.fx.rates&&e.fx.rates.hasOwnProperty(t)?{...e,fx:{...e.fx,rates:{...e.fx.rates,[t]:r.rate},lastUpdated:new Date}}:(console.warn(`[fxSlice.ts] updateExchangeRate: Currency code ${t} not found in rates. No update performed.`),e)):console.warn("[fxSlice.ts] updateExchangeRate: newRateUpdate did not contain a valid rate property.")},getExchangeRate:(e,r)=>{console.log("[fxSlice.ts] getExchangeRate called (Original Implementation).");let{rates:s,settings:a,lastUpdated:o}=t().fx,n=a?.baseCurrency||I.NE.USD;if(e===r)return{id:`${e}-${r}-self`,fromCurrency:e,toCurrency:r,rate:1,provider:"system",createdAt:new Date,updatedAt:new Date};if(a&&a.manualRates&&a.customRates&&"object"==typeof a.customRates){let t=`${e}-${r}`;if(a.customRates.hasOwnProperty(t))return{id:`custom-${t}`,fromCurrency:e,toCurrency:r,rate:a.customRates[t],provider:"manual",createdAt:new Date,updatedAt:new Date};let s=`${r}-${e}`;if(a.customRates.hasOwnProperty(s)){let t=a.customRates[s];if(0!==t)return{id:`custom-inverse-${s}`,fromCurrency:e,toCurrency:r,rate:1/t,provider:"manual-inverse",createdAt:new Date,updatedAt:new Date}}}if(!s||"object"!=typeof s)return console.warn("[fxSlice.ts] getExchangeRate: Rates not available or not an object."),null;let i=null;return(e===n?s.hasOwnProperty(r)&&(i=s[r]):r===n?s.hasOwnProperty(e)&&0!==s[e]&&(i=1/s[e]):s.hasOwnProperty(r)&&s.hasOwnProperty(e)&&0!==s[e]&&(i=s[r]/s[e]),null===i||isNaN(i))?(console.warn(`[fxSlice.ts] getExchangeRate: Could not determine rate for ${e} to ${r}`),null):{id:`${e}-${r}-api`,fromCurrency:e,toCurrency:r,rate:i,provider:"api",createdAt:o||new Date,updatedAt:o||new Date}},convertAmount:(e,r,s)=>{console.log("[fxSlice.ts] convertAmount called (Original Implementation).");let a=t().fx.getExchangeRate(r,s);return a&&"number"==typeof a.rate?e*a.rate:null}};return console.log("[fxSlice.ts] Restored fxSliceObject defined. Keys:",Object.keys(r)),r},ec=e=>({ui:{activeView:"home",sidebarOpen:!0,theme:"light",setActiveView:t=>{e(e=>({ui:{...e.ui,activeView:t}}))},toggleSidebar:()=>{e(e=>({ui:{...e.ui,sidebarOpen:!e.ui.sidebarOpen}}))},setTheme:t=>{if(e(e=>({ui:{...e.ui,theme:t}})),"undefined"!=typeof document){let e=document.documentElement;if("system"===t){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.setAttribute("data-theme",t)}else e.setAttribute("data-theme",t)}}}}),ed=(e,t)=>{let r=(e,t)=>{let r=e.amount;switch(t){case I.LT.PORTUGAL_NHR:r=.8*e.amount;break;case I.LT.STANDARD:r=e.amount<=2e3?.9*e.amount:e.amount<=4e3?.8*e.amount:.7*e.amount;break;default:r=.8*e.amount}return{amount:r,currency:e.currency}},s=()=>{let s=t(),a=s.income.tempIncomes,o=s.income.taxRegime,n={};a.forEach(e=>{if(e.isActive){let t=(0,C.Jp)(e.amount.amount,e.frequency),r=e.amount.currency;n[r]||(n[r]=0),n[r]+=t}});let i=I.NE.EUR,l={amount:n[i]||0,currency:i},c=r(l,o);e(e=>({...e,income:{...e.income,totalGrossIncome:l,totalNetIncome:c}}))};return{tempIncomes:[],taxRegime:I.LT.STANDARD,totalGrossIncome:{amount:0,currency:I.NE.EUR},totalNetIncome:{amount:0,currency:I.NE.EUR},addIncome:t=>{let r={...t,id:(0,d.Z)(),createdAt:new Date,updatedAt:new Date};e(e=>{let t=[...e.income.tempIncomes,r];return{...e,income:{...e.income,tempIncomes:t}}}),s()},updateIncome:(t,r)=>{e(e=>{let s=e.income.tempIncomes.map(e=>e.id===t?{...e,...r,updatedAt:new Date}:e);return{...e,income:{...e.income,tempIncomes:s}}}),s()},deleteIncome:t=>{e(e=>({...e,income:{...e.income,tempIncomes:e.income.tempIncomes.filter(e=>e.id!==t)}})),s()},setTaxRegime:t=>{e(e=>({...e,income:{...e.income,taxRegime:t}})),s()},loadIncomesFromScenario:(t,r)=>{e(e=>({...e,income:{...e.income,tempIncomes:t,taxRegime:r||e.income.taxRegime}})),s()},clearIncomes:()=>{e(e=>({...e,income:{...e.income,tempIncomes:[],totalGrossIncome:{amount:0,currency:I.NE.EUR},totalNetIncome:{amount:0,currency:I.NE.EUR}}}))},calculateTotals:s,calculateNetIncome:r,getIncomesByPartner:e=>t().income.tempIncomes.filter(t=>t.partner===e)}},eu=(0,i.Ue)()((0,l.mW)((0,l.tJ)((e,t,r)=>{let s=m(e,t,r),a=eo(e,t,r),o=el(e,t,r),n=ec(e,t,r),i=ed(e,t,r);return{profile:s,scenarios:a.scenarios,activeScenarioId:a.activeScenarioId,isLoading:a.isLoading,error:a.error,storageStats:a.storageStats,activeScenario:a.activeScenario,scenarioList:a.scenarioList,loadScenarios:a.loadScenarios,setActiveScenarioId:a.setActiveScenarioId,createScenario:a.createScenario,updateScenario:a.updateScenario,deleteScenario:a.deleteScenario,duplicateScenario:a.duplicateScenario,exportScenarios:a.exportScenarios,importScenarios:a.importScenarios,createTemplateScenario:a.createTemplateScenario,refreshStorageStats:a.refreshStorageStats,scheduleAutoSave:a.scheduleAutoSave,fromActiveScenario:a.fromActiveScenario,fx:o,income:i,ui:n.ui}},{name:"living-abroad-budget-store",onRehydrateStorage:()=>(e,t)=>{t&&console.error("[store] Hydration error:",t)}}),{name:"living-abroad-budget-devtools"}))},88211:(e,t,r)=>{"use strict";var s,a,o,n,i;r.d(t,{Cv:()=>s,DL:()=>n,LT:()=>i,NE:()=>a,oF:()=>o}),function(e){e.GB="GB",e.PT="PT",e.US="US",e.ES="ES",e.FR="FR",e.IT="IT",e.DE="DE",e.CA="CA",e.AU="AU",e.NZ="NZ",e.IE="IE",e.CH="CH",e.GR="GR",e.AT="AT",e.BE="BE",e.NL="NL",e.SE="SE",e.NO="NO",e.DK="DK",e.FI="FI",e.JP="JP",e.CN="CN",e.SG="SG",e.AE="AE",e.BR="BR",e.MX="MX"}(s||(s={})),function(e){e.GBP="GBP",e.EUR="EUR",e.USD="USD",e.JPY="JPY",e.CAD="CAD",e.AUD="AUD"}(a||(a={})),function(e){e.ONCE="ONCE",e.WEEKLY="WEEKLY",e.BIWEEKLY="BIWEEKLY",e.MONTHLY="MONTHLY",e.QUARTERLY="QUARTERLY",e.ANNUALLY="ANNUALLY"}(o||(o={})),function(e){e.CITIZEN="CITIZEN",e.PERMANENT_RESIDENT="PERMANENT_RESIDENT",e.TEMPORARY_RESIDENT="TEMPORARY_RESIDENT",e.NON_RESIDENT="NON_RESIDENT"}(n||(n={})),function(e){e.STANDARD="STANDARD",e.PORTUGAL_NHR="PORTUGAL_NHR"}(i||(i={}))},38700:(e,t,r)=>{"use strict";var s,a;r.d(t,{_:()=>s}),function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.HYBRID="HYBRID",e.TRAVEL="TRAVEL"}(s||(s={})),function(e){e.GENERAL_PRACTICE="GENERAL_PRACTICE",e.SPECIALIST="SPECIALIST",e.DENTAL="DENTAL",e.VISION="VISION",e.MENTAL_HEALTH="MENTAL_HEALTH",e.PRESCRIPTION="PRESCRIPTION",e.EMERGENCY="EMERGENCY",e.HOSPITALIZATION="HOSPITALIZATION",e.PREVENTIVE="PREVENTIVE",e.ALTERNATIVE="ALTERNATIVE"}(a||(a={}))},41985:(e,t,r)=>{"use strict";var s;r.d(t,{S9:()=>s}),function(e){e.PRIMARY="PRIMARY",e.SPOUSE="SPOUSE",e.CHILD="CHILD",e.OTHER="OTHER"}(s||(s={}))},58914:(e,t,r)=>{"use strict";var s,a,o;r.d(t,{Rj:()=>s}),function(e){e.RENT="RENT",e.OWN="OWN",e.TEMPORARY="TEMPORARY"}(s||(s={})),function(e){e.RENTERS="RENTERS",e.HOMEOWNERS="HOMEOWNERS",e.CONTENTS="CONTENTS",e.LIABILITY="LIABILITY"}(a||(a={})),function(e){e.ELECTRICITY="ELECTRICITY",e.GAS="GAS",e.WATER="WATER",e.INTERNET="INTERNET",e.TV="TV",e.PHONE="PHONE",e.TRASH="TRASH",e.OTHER="OTHER"}(o||(o={}))},7539:(e,t,r)=>{"use strict";r.d(t,{Jp:()=>i,Rp:()=>s,oF:()=>n.oF});var s,a,o,n=r(88211);function i(e,t){switch(t){case n.oF.WEEKLY:return 52*e/12;case n.oF.BIWEEKLY:return 26*e/12;case n.oF.MONTHLY:return e;case n.oF.QUARTERLY:return e/3;case n.oF.ANNUALLY:case n.oF.ONCE:return e/12;default:throw Error(`Unsupported frequency: ${t}`)}}(function(e){e.EMPLOYMENT="EMPLOYMENT",e.PASSIVE="PASSIVE",e.ONE_OFF="ONE_OFF",e.OTHER="OTHER"})(s||(s={})),function(e){e.FULL_TIME="FULL_TIME",e.PART_TIME="PART_TIME",e.CONTRACT="CONTRACT",e.FREELANCE="FREELANCE"}(a||(a={})),function(e){e.RENTAL="RENTAL",e.DIVIDEND="DIVIDEND",e.INTEREST="INTEREST",e.ROYALTY="ROYALTY",e.OTHER="OTHER"}(o||(o={}))},19782:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=1},6882:(e,t,r)=>{"use strict";var s,a;r.d(t,{F:()=>s,G:()=>a}),function(e){e.PUBLIC="PUBLIC",e.PRIVATE_CAR="PRIVATE_CAR",e.LEASED_CAR="LEASED_CAR",e.TAXI="TAXI",e.RIDESHARE="RIDESHARE",e.BICYCLE="BICYCLE",e.WALKING="WALKING",e.OTHER="OTHER"}(s||(s={})),function(e){e.SINGLE="SINGLE",e.DAILY="DAILY",e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.ANNUAL="ANNUAL",e.PAY_AS_YOU_GO="PAY_AS_YOU_GO"}(a||(a={}))},7629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/workspace/src/app/error.tsx#default`)},21869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var s=r(19510);r(71159),r(5023);let a=(0,r(68570).createProxy)(String.raw`/workspace/src/store/StoreProvider.tsx#StoreProvider`),o={title:"Living Abroad Budget Tool",description:"Plan your international move with confidence."};function n({children:e}){return s.jsx("html",{lang:"en","data-theme":"light",children:s.jsx("body",{className:"min-h-screen bg-base-100",children:s.jsx(a,{children:s.jsx("main",{children:e})})})})}},11930:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(19510);function a(){return s.jsx("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-16 h-16 mb-4 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Loading..."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we prepare your content."})]})})}r(71159)},12523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510);r(71159);var a=r(57371),o=r(24163);function n(){return s.jsx("div",{className:"min-h-[70vh] flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"The page you are looking for doesn't exist or has been moved."}),s.jsx(a.default,{href:"/",children:s.jsx(o.zx,{children:"Return Home"})})]})})}},24163:(e,t,r)=>{"use strict";r.d(t,{zx:()=>a,_z:()=>n});var s=r(68570);let a=(0,s.createProxy)(String.raw`/workspace/src/components/ui/Button.tsx#default`);(0,s.createProxy)(String.raw`/workspace/src/components/ui/Card.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Input.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Select.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Modal.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Alert.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Checkbox.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Radio.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Tabs.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/Tooltip.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/ThemeToggle.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/CurrencyInput.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/ToastContext.tsx#ToastProvider`),(0,s.createProxy)(String.raw`/workspace/src/components/ui/ToastContext.tsx#useToast`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/AppLayout.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/Sidebar.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/Grid.tsx#Grid`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/Grid.tsx#GridItem`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/Grid.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/layout/NavBar.tsx#default`);var o=r(19510);r(71159);let n=({title:e,subtitle:t,actions:r,children:s,className:a="",containerClassName:n="",headerClassName:i="",contentClassName:l="",fullWidth:c=!1,noPadding:d=!1})=>{let u=["bg-base-100 min-h-screen",a].filter(Boolean).join(" "),m=[c?"w-full":"container mx-auto",d?"":"px-4 md:px-6",n].filter(Boolean).join(" "),h=["py-6 flex flex-col md:flex-row md:items-center md:justify-between","border-b border-base-300 mb-6",i].filter(Boolean).join(" "),g=["pb-8",l].filter(Boolean).join(" ");return o.jsx("div",{className:u,children:(0,o.jsxs)("div",{className:m,children:[(e||t||r)&&(0,o.jsxs)("header",{className:h,children:[(0,o.jsxs)("div",{children:[e&&o.jsx("h1",{className:"text-2xl font-bold",children:e}),t&&o.jsx("p",{className:"text-base-content/70 mt-1",children:t})]}),r&&o.jsx("div",{className:"mt-4 md:mt-0",children:r})]}),o.jsx("main",{className:g,children:s})]})})};(0,s.createProxy)(String.raw`/workspace/src/components/layout/Breadcrumb.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/form/Form.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/form/FormGroup.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/form/FormExample.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/TestComponent.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/guards/RouteGuard.tsx#default`),(0,s.createProxy)(String.raw`/workspace/src/components/Dashboard.tsx#default`)},5023:()=>{}};