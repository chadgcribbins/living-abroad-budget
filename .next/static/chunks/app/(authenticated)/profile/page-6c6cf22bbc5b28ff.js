(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{53254:function(e,t,a){Promise.resolve().then(a.bind(a,48632))},48632:function(e,t,a){"use strict";a.d(t,{default:function(){return f}});var r=a(57437),i=a(2265),l=a(40525),n=a(97869);let s=[{code:"GB",name:"United Kingdom",currencyCode:n.NE.GBP,flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"PT",name:"Portugal",currencyCode:n.NE.EUR,flag:"\uD83C\uDDF5\uD83C\uDDF9"},{code:"US",name:"United States",currencyCode:n.NE.USD,flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"ES",name:"Spain",currencyCode:n.NE.EUR,flag:"\uD83C\uDDEA\uD83C\uDDF8"},{code:"FR",name:"France",currencyCode:n.NE.EUR,flag:"\uD83C\uDDEB\uD83C\uDDF7"},{code:"IT",name:"Italy",currencyCode:n.NE.EUR,flag:"\uD83C\uDDEE\uD83C\uDDF9"},{code:"DE",name:"Germany",currencyCode:n.NE.EUR,flag:"\uD83C\uDDE9\uD83C\uDDEA"},{code:"CA",name:"Canada",currencyCode:n.NE.CAD,flag:"\uD83C\uDDE8\uD83C\uDDE6"},{code:"AU",name:"Australia",currencyCode:n.NE.AUD,flag:"\uD83C\uDDE6\uD83C\uDDFA"}];var o=a(56334),d=a(6819),c=a(92827),u=a(88333),m=a(85270),h=a(93837);console.log("PROFILE_FORM_V_LATEST_DEBUG_005 loading");var f=()=>{let{household:e,updateHousehold:t,updateHouseholdMembers:a}=(0,l.Un)(),[n,f]=(0,i.useState)(""),[p,x]=(0,i.useState)(""),[v,g]=(0,i.useState)((null==e?void 0:e.originCountry)||""),[j,D]=(0,i.useState)([]),[N,b]=(0,i.useState)(!1),[y,S]=(0,i.useState)(null),[C,E]=(0,i.useState)({fullName:"",dateOfBirth:"",relationship:m.S9.CHILD}),B=Object.values(m.S9).filter(e=>e!==m.S9.PRIMARY).map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})),O=s.map(e=>({value:e.code,label:e.name}));(0,i.useEffect)(()=>{if(console.log("PROFILE_FORM_V_LATEST_DEBUG_005 useEffect household:",e),e){let t=e.members.find(e=>e.relationship===m.S9.PRIMARY);t&&(f("".concat(t.firstName," ").concat(t.lastName).trim()),x(t.dateOfBirth?new Date(t.dateOfBirth).toISOString().split("T")[0]:"")),g(e.originCountry||""),D(e.members.filter(e=>e.relationship!==m.S9.PRIMARY))}else f(""),x(""),g(""),D([])},[e]);let F=e=>{let{name:t,value:a}=e.target;"primaryFullName"===t?f(a):"primaryDateOfBirth"===t&&x(a)},w=e=>{let{name:t,value:a}=e.target;E(e=>({...e,[t]:a}))},A=e=>{S(e.id),E({fullName:"".concat(e.firstName," ").concat(e.lastName).trim(),dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth).toISOString().split("T")[0]:"",relationship:e.relationship}),b(!0)},R=e=>{D(j.filter(t=>t.id!==e))};return(0,r.jsxs)("div",{className:"space-y-6 p-4 bg-white shadow-md rounded-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-700",children:"Your Profile"}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-600",children:"Primary Individual"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"primaryFullName",children:"Full Name"}),(0,r.jsx)(c.default,{id:"primaryFullName",name:"primaryFullName",value:n,onChange:F,placeholder:"E.g., Jane Doe"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"primaryDateOfBirth",children:"Date of Birth"}),(0,r.jsx)(c.default,{id:"primaryDateOfBirth",name:"primaryDateOfBirth",type:"date",value:p,onChange:F})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-600",children:"Family Members"}),j.length>0&&(0,r.jsx)("ul",{className:"space-y-2",children:j.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,r.jsxs)("span",{children:[e.firstName," ",e.lastName," (",e.relationship,")"]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(o.default,{variant:"outline",size:"sm",onClick:()=>A(e),children:"Edit"}),(0,r.jsx)(o.default,{variant:"outline",size:"sm",onClick:()=>R(e.id),children:"Delete"})]})]},e.id))}),!N&&(0,r.jsx)(o.default,{onClick:()=>{S(null),E({fullName:"",dateOfBirth:"",relationship:m.S9.CHILD}),b(!0)},variant:"secondary",className:"w-full sm:w-auto",children:"Add Family Member"}),N&&(0,r.jsxs)("div",{className:"p-4 border border-blue-200 rounded-md space-y-4 bg-blue-50",children:[(0,r.jsxs)("h4",{className:"text-lg font-medium text-blue-700",children:[y?"Edit":"Add New"," Family Member"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"memberFullName",children:"Full Name"}),(0,r.jsx)(c.default,{id:"memberFullName",name:"fullName",value:C.fullName,onChange:w,placeholder:"E.g., John Doe"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"memberDateOfBirth",children:"Date of Birth"}),(0,r.jsx)(c.default,{id:"memberDateOfBirth",name:"dateOfBirth",type:"date",value:C.dateOfBirth,onChange:w})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"memberRelationship",children:"Relationship to Primary"}),(0,r.jsx)(d.default,{id:"memberRelationship",name:"relationship",value:C.relationship,onChange:e=>E(t=>({...t,relationship:e.target.value})),options:B})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(o.default,{onClick:()=>{if(!C.fullName||!C.dateOfBirth){alert("Please fill in all fields for the family member.");return}let e=C.fullName.trim().split(" "),t=e[0]||"",a=e.slice(1).join(" ")||"",r={id:y||(0,h.Z)(),firstName:t,lastName:a,dateOfBirth:new Date(C.dateOfBirth),relationship:C.relationship,isDependent:C.relationship===m.S9.CHILD},i=[...j];y?i=i.map(e=>e.id===y?r:e):i.push(r),D(i),b(!1),S(null)},className:"bg-blue-500 hover:bg-blue-600 text-white",children:y?"Update Member":"Save Member"}),(0,r.jsx)(o.default,{onClick:()=>{b(!1),S(null)},variant:"outline",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border border-gray-200 rounded-md",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-600",children:"Origin Country"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u._,{htmlFor:"originCountry",children:"Origin Country"}),(0,r.jsx)(d.default,{id:"originCountry",name:"originCountry",value:v||"",onChange:e=>g(e.target.value),options:O,placeholder:"Select your origin country"})]})]}),(0,r.jsx)(o.default,{onClick:()=>{var r;if(!n||!p||!v){alert("Please fill in your Full Name, Date of Birth, and Origin Country.");return}let i=n.trim().split(" "),l=i[0]||"",s=i.slice(1).join(" ")||"",o=[{id:(null==e?void 0:null===(r=e.members.find(e=>e.relationship===m.S9.PRIMARY))||void 0===r?void 0:r.id)||(0,h.Z)(),firstName:l,lastName:s,dateOfBirth:new Date(p),relationship:m.S9.PRIMARY,isDependent:!1},...j],d={originCountry:v};console.log("PROFILE_FORM_V_LATEST_DEBUG_005 handleSaveProfile:",{householdUpdates:d,allMembers:o}),t(d),a(o),alert("Profile saved!")},className:"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white",children:"Save Profile"})]})}},56334:function(e,t,a){"use strict";var r=a(57437);a(2265),t.default=e=>{let{variant:t="primary",size:a="md",isLoading:i=!1,isDisabled:l=!1,leftIcon:n,rightIcon:s,fullWidth:o=!1,className:d="",children:c,...u}=e,m=[i?"loading":"",l?"btn-disabled":""].filter(Boolean).join(" "),h=["btn","primary"!==t?"btn-".concat(t):"","md"!==a?"btn-".concat(a):"",o?"w-full":"",m,d].filter(Boolean).join(" ");return(0,r.jsxs)("button",{className:h,disabled:l||i,...u,children:[n&&(0,r.jsx)("span",{className:"mr-2",children:n}),c,s&&(0,r.jsx)("span",{className:"ml-2",children:s})]})}},92827:function(e,t,a){"use strict";var r=a(57437);let i=a(2265).forwardRef((e,t)=>{let{label:a,helperText:i,error:l,size:n="md",variant:s="bordered",leftAddon:o,rightAddon:d,leftIcon:c,rightIcon:u,fullWidth:m=!1,containerClassName:h="",labelClassName:f="",inputClassName:p="",helperTextClassName:x="",errorClassName:v="",currencySymbol:g,isCurrencyInput:j=!1,...D}=e,N=["form-control",m?"w-full":"",h].filter(Boolean).join(" "),b=["label",f].filter(Boolean).join(" "),y=["input-group","md"!==n?"input-group-".concat(n):""].filter(Boolean).join(" "),S=["input","default"!==s?"input-".concat(s):"","md"!==n?"input-".concat(n):"",l?"input-error":"","focus:outline-none",p].filter(Boolean).join(" "),C=["text-sm text-base-content/70 mt-1",x].filter(Boolean).join(" "),E=["text-sm text-error mt-1",v].filter(Boolean).join(" ");return(0,r.jsxs)("div",{className:N,children:[a&&(0,r.jsx)("label",{className:b,children:(0,r.jsx)("span",{className:"label-text",children:a})}),o||d||c||u||j?(0,r.jsxs)("div",{className:y,children:[o&&(0,r.jsx)("span",{className:"input-group-addon",children:o}),j&&(0,r.jsx)("span",{className:"input-group-addon",children:g||"â‚¬"}),(0,r.jsxs)("div",{className:"relative flex-1",children:[c&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c}),(0,r.jsx)("input",{className:"".concat(S," ").concat(c?"pl-10":""," ").concat(u?"pr-10":""),...D,ref:t}),u&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:u})]}),d&&(0,r.jsx)("span",{className:"input-group-addon",children:d})]}):(0,r.jsx)("input",{className:S,...D,ref:t}),i&&!l&&(0,r.jsx)("div",{className:C,children:i}),l&&(0,r.jsx)("div",{className:E,children:l})]})});i.displayName="Input",t.default=i},88333:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var r=a(57437),i=a(2265),l=a(85293),n=a(90535),s=a(61994),o=a(53335);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,t)=>{let{className:a,asChild:i=!1,...n}=e,c=i?l.g7:"label";return(0,r.jsx)(c,{className:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.m6)((0,s.W)(t))}(d(),a),ref:t,...n})});c.displayName="Label"},6819:function(e,t,a){"use strict";var r=a(57437);let i=a(2265).forwardRef((e,t)=>{let{options:a,label:i,helperText:l,error:n,size:s="md",variant:o="bordered",fullWidth:d=!1,placeholder:c,containerClassName:u="",labelClassName:m="",selectClassName:h="",helperTextClassName:f="",errorClassName:p="",...x}=e,v=["form-control",d?"w-full":"",u].filter(Boolean).join(" "),g=["label",m].filter(Boolean).join(" "),j=["select","default"!==o?"select-".concat(o):"","md"!==s?"select-".concat(s):"",n?"select-error":"",d?"w-full":"",h].filter(Boolean).join(" "),D=["text-sm text-base-content/70 mt-1",f].filter(Boolean).join(" "),N=["text-sm text-error mt-1",p].filter(Boolean).join(" ");return(0,r.jsxs)("div",{className:v,children:[i&&(0,r.jsx)("label",{className:g,children:(0,r.jsx)("span",{className:"label-text",children:i})}),(0,r.jsxs)("select",{className:j,...x,ref:t,children:[c&&(0,r.jsx)("option",{value:"",disabled:!0,children:c}),a.map(e=>(0,r.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),l&&!n&&(0,r.jsx)("div",{className:D,children:l}),n&&(0,r.jsx)("div",{className:N,children:n})]})});i.displayName="Select",t.default=i},40525:function(e,t,a){"use strict";a.d(t,{HJ:function(){return s},J7:function(){return d},Th:function(){return l},Un:function(){return i},rz:function(){return o},tF:function(){return c}});var r=a(86760);a(2265);let i=()=>{let e=(0,r.o)(e=>e.profile);return{household:e.household,isComplete:e.isComplete,activeCountry:e.activeCountry,isHydrated:e.isHydrated,setHousehold:e.setHousehold,updateHousehold:e.updateHousehold,updateHouseholdMembers:e.updateHouseholdMembers,clearHousehold:e.clearHousehold,setActiveCountry:e.setActiveCountry,setHydrated:e.setHydrated}},l=()=>(0,r.o)(e=>({scenarios:e.scenarios,activeScenarioId:e.activeScenarioId,activeScenario:e.activeScenario,scenarioList:e.scenarioList,isLoading:e.isLoading,error:e.error,storageStats:e.storageStats,loadScenarios:e.loadScenarios,setActiveScenarioId:e.setActiveScenarioId,createScenario:e.createScenario,updateScenario:e.updateScenario,deleteScenario:e.deleteScenario,duplicateScenario:e.duplicateScenario,exportScenarios:e.exportScenarios,importScenarios:e.importScenarios,createTemplateScenario:e.createTemplateScenario,refreshStorageStats:e.refreshStorageStats,scheduleAutoSave:e.scheduleAutoSave,fromActiveScenario:e.fromActiveScenario})),n=()=>(0,r.o)(e=>({activeView:e.ui.activeView,sidebarOpen:e.ui.sidebarOpen,theme:e.ui.theme,setActiveView:e.ui.setActiveView,toggleSidebar:e.ui.toggleSidebar,setTheme:e.ui.setTheme})),s=()=>{let e=n();return{activeView:e.activeView,sidebarOpen:e.sidebarOpen,setActiveView:e.setActiveView,toggleSidebar:e.toggleSidebar}},o=l,d=n,c=()=>(0,r.o)(e=>e.profile.household)}},function(e){e.O(0,[6373,5050,6760,2971,2117,1744],function(){return e(e.s=53254)}),_N_E=e.O()}]);