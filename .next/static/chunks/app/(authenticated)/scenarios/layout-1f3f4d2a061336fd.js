(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{47074:function(e,t,r){Promise.resolve().then(r.bind(r,24062))},99376:function(e,t,r){"use strict";var i=r(35475);r.o(i,"useParams")&&r.d(t,{useParams:function(){return i.useParams}}),r.o(i,"usePathname")&&r.d(t,{usePathname:function(){return i.usePathname}}),r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},24062:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var i=r(57437);r(2265);var o=r(65816);function n(e){let{children:t}=e;return(0,i.jsx)(o.e,{requireCompleteProfile:!0,children:t})}},75480:function(e,t,r){"use strict";var i=r(57437),o=r(2265),n=r(99376),a=r(40525);t.default=e=>{let{children:t,requireCompleteProfile:r=!1}=e,s=(0,n.useRouter)(),c=(0,n.usePathname)(),{isComplete:u,isHydrated:l}=(0,a.Un)();return(console.log("[RouteGuard] Initial isComplete:",u,"isHydrated:",l,"Pathname:",c),(0,o.useEffect)(()=>{console.log("[RouteGuard] useEffect triggered. isComplete:",u,"isHydrated:",l,"requireCompleteProfile:",r,"Pathname:",c),l&&r&&!u&&"/profile"!==c&&(console.log("[RouteGuard] Redirecting to /profile because isComplete is false after hydration."),s.push("/profile"))},[s,c,u,r,l]),console.log("[RouteGuard] Evaluating render block. isComplete:",u,"isHydrated:",l,"requireCompleteProfile:",r,"Pathname:",c),l)?r&&!u&&"/profile"!==c?(console.log("[RouteGuard] Rendering redirect message, not children."),(0,i.jsx)("div",{className:"container mx-auto py-12",children:(0,i.jsx)("div",{className:"alert alert-warning shadow-lg",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,i.jsx)("span",{children:"Profile completion required. Redirecting..."})]})})})):(0,i.jsx)(i.Fragment,{children:t}):(console.log("[RouteGuard] Rendering loading/hydration indicator (or null)."),(0,i.jsx)("div",{className:"flex flex-col min-h-screen justify-center items-center",children:(0,i.jsx)("p",{children:"Loading profile..."})}))}},65816:function(e,t,r){"use strict";r.d(t,{e:function(){return i.default}});var i=r(75480)},40525:function(e,t,r){"use strict";r.d(t,{HJ:function(){return s},J7:function(){return u},Th:function(){return n},Un:function(){return o},rz:function(){return c},tF:function(){return l}});var i=r(86760);r(2265);let o=()=>{let e=(0,i.o)(e=>e.profile);return{household:e.household,isComplete:e.isComplete,activeCountry:e.activeCountry,isHydrated:e.isHydrated,setHousehold:e.setHousehold,updateHousehold:e.updateHousehold,updateHouseholdMembers:e.updateHouseholdMembers,clearHousehold:e.clearHousehold,setActiveCountry:e.setActiveCountry,setHydrated:e.setHydrated}},n=()=>(0,i.o)(e=>({scenarios:e.scenarios,activeScenarioId:e.activeScenarioId,activeScenario:e.activeScenario,scenarioList:e.scenarioList,isLoading:e.isLoading,error:e.error,storageStats:e.storageStats,loadScenarios:e.loadScenarios,setActiveScenarioId:e.setActiveScenarioId,createScenario:e.createScenario,updateScenario:e.updateScenario,deleteScenario:e.deleteScenario,duplicateScenario:e.duplicateScenario,exportScenarios:e.exportScenarios,importScenarios:e.importScenarios,createTemplateScenario:e.createTemplateScenario,refreshStorageStats:e.refreshStorageStats,scheduleAutoSave:e.scheduleAutoSave,fromActiveScenario:e.fromActiveScenario})),a=()=>(0,i.o)(e=>({activeView:e.ui.activeView,sidebarOpen:e.ui.sidebarOpen,theme:e.ui.theme,setActiveView:e.ui.setActiveView,toggleSidebar:e.ui.toggleSidebar,setTheme:e.ui.setTheme})),s=()=>{let e=a();return{activeView:e.activeView,sidebarOpen:e.sidebarOpen,setActiveView:e.setActiveView,toggleSidebar:e.toggleSidebar}},c=n,u=a,l=()=>(0,i.o)(e=>e.profile.household)}},function(e){e.O(0,[6373,6760,2971,2117,1744],function(){return e(e.s=47074)}),_N_E=e.O()}]);